{"version":3,"sources":["../widget/DOM.ts","../widget/ExecutionMeta.ts","../widget/MemoryLayer.ts","../widget/elements/BaseElement.ts","../widget/utils/generator.ts","../widget/utils/compiler.ts","../widget/utils/xhtml.ts","../widget/utils/jsx.ts","../widget/utils/cssProperty.ts","../widget/utils/hyphenateStyleName.ts","../widget/utils/json.ts","../widget/utils/executor.ts","../widget/utils/index.ts","../widget/Runtime.ts","../widget/Creature.ts","../widget/CreatureStore.ts","../widget/FuncStore.ts","../widget/Module.ts","../widget/Applet.ts","../widget/controls/BaseControl.ts","../widget/controls/BoxControl.ts","../widget/props/BaseProp.ts","../widget/props/StringProp.ts","../widget/props/FuncProp.ts","../widget/controls/ButtonControl.ts","../widget/controls/CardControl.ts","../widget/controls/TabsControl.ts","../widget/controls/PrimaryTabControl.ts","../widget/controls/TextControl.ts","../widget/controls/HtmlControl.ts","../widget/controls/BodyControl.ts","../widget/controls/ScriptControl.ts","../widget/controls/index.ts","../widget/INative.ts","../native.ts","../index.ts"],"sourcesContent":["\nimport Creature from './Creature'\nimport Module from './Module'\nimport BaseElement from './elements/BaseElement'\n\nclass DOM {\n\n    private _module: Module\n    public get module() { return this._module }\n\n    private _creature: Creature\n    public get creature() { return this._creature }\n\n    private _root?: BaseElement\n    public get root() { return this._root }\n    public setRoot(root: BaseElement) { this._root = root }\n\n    constructor(module: Module, creature?: Creature, root?: BaseElement) {\n        this._module = module\n        this._creature = creature\n        this._root = root\n    }\n}\n\nexport default DOM\n","import Creature from \"./Creature\"\n\nclass ExecutionMeta {\n\n    creature: Creature\n    declaration?: boolean\n    declarationType?: string\n    returnIdParent?: boolean\n    isAnotherCreature?: boolean\n    isParentScript?: boolean\n    parentJsxKey: string\n\n    constructor(metaDict: any) {\n        this.creature = metaDict.creature\n        this.declaration = (metaDict.declaration === true)\n        this.declarationType = metaDict.declarationType\n        this.returnIdParent = metaDict.returnIdParent\n        this.isAnotherCreature = metaDict.isAnotherCreature\n        this.isParentScript = metaDict.isParentScript\n        this.parentJsxKey = metaDict.parentJsxKey\n        if (this.declaration && !this.declarationType) {\n            // TODO: throw invalid execution metadata exception\n        }\n    }\n}\n\nexport default ExecutionMeta\n","\nimport Func from \"./Func\"\n\nclass MemoryLayer {\n\n    private _units: { [id: string]: any }\n    public get units() { return this._units }\n    public findUnit(key: string) { return this._units[key] }\n    public putUnit(key: string, unit: any) { this._units[key] = unit }\n    public removeUnit(key: string) { delete this._units[key] }\n\n    constructor(initialUnits?: { [id: string]: any }) {\n        this._units = initialUnits ? initialUnits : {}\n    }\n}\n\nexport default MemoryLayer\n","import BaseProp from \"../props/BaseProp\";\n\nclass BaseElement {\n\n    public _key: string\n    public get key() { return this._key }\n\n    private _controlType: string\n    public get controlType() { return this._controlType }\n\n    public _props: { [key: string]: BaseProp }\n    get props() { return this._props }\n\n    public _styles: { [key: string]: any }\n    get styles() { return this._styles }\n\n    public _children: Array<BaseElement>\n    get children() { return this._children }\n\n    public update(props?: { [id: string]: any }, styles?: { [id: string]: any }, children?: Array<BaseElement>) {\n        if (props) this._props = props\n        if (styles) this._styles = styles\n        if (children) this._children = children\n    }\n\n    constructor(\n        key: string,\n        controlType: string,\n        props: { [key: string]: BaseProp },\n        styles: { [key: string]: any },\n        children?: Array<BaseElement>\n    ) {\n        this._key = key\n        this._controlType = controlType\n        this._props = props;\n        this._styles = styles\n        this._children = children ? children : []\n    }\n}\n\nexport default BaseElement\n","\nimport BaseElement from \"../elements/BaseElement\";\nimport BaseProp from \"../props/BaseProp\";\nimport ExecutionMeta from \"../ExecutionMeta\";\nimport Creature from \"../Creature\";\n\nlet generateKey = () => {\n    return Math.random().toString().substring(2)\n}\n\nfunction clone<T>(instance: T): T {\n    const copy = new (instance.constructor as { new(): T })();\n    Object.assign(copy, instance);\n    return copy;\n}\n\nconst prepareElement = (\n    typeName: string,\n    defaultProps: { [id: string]: BaseProp },\n    overridenProps: { [id: string]: any },\n    defaultStyles: { [id: string]: any },\n    overridenStyles: { [id: string]: any },\n    children: Array<BaseElement>\n) => {\n    let finalProps = {}\n    Object.keys(defaultProps).forEach(propKey => {\n        if (overridenProps[propKey] !== undefined) {\n            let bpProp = defaultProps[propKey]\n            let copiedProp = clone(bpProp)\n            copiedProp.setValue(overridenProps[propKey])\n            finalProps[propKey] = copiedProp\n        }\n    });\n    let finalStyles = { ...defaultStyles }\n    if (overridenStyles) finalStyles = { ...finalStyles, ...overridenStyles }\n    return new BaseElement(overridenProps['key'], typeName, finalProps, finalStyles, children)\n}\n\nconst nestedContext = (creature: Creature, otherMetas?: ExecutionMeta) => {\n    if (otherMetas) {\n        return new ExecutionMeta({ ...otherMetas, creature, isAnotherCreature: true })\n    } else {\n        return new ExecutionMeta({ creature, isAnotherCreature: true })\n    }\n}\n\nexport default { generateKey, prepareElement, nestedContext }\n","\nimport { Parser } from 'acorn';\nimport jsx from './jsx';\nimport Applet from '../Applet';\nimport Module from '../Module';\nimport cssProperty from './cssProperty';\nimport hyphenateStyleName from './hyphenateStyleName';\n\nlet { isUnitlessNumber } = cssProperty\n\nlet jsxCompiler = Parser.extend(jsx() as any);\n\nvar isArray = Array.isArray;\nvar keys = Object.keys;\n\nvar counter = 1;\n// Follows syntax at https://developer.mozilla.org/en-US/docs/Web/CSS/content,\n// including multiple space separated values.\nvar unquotedContentValueRegex = /^(normal|none|(\\b(url\\([^)]*\\)|chapter_counter|attr\\([^)]*\\)|(no-)?(open|close)-quote|inherit)((\\b\\s*)|$|\\s+))+)$/;\n\nfunction buildRule(key, value) {\n    if (!isUnitlessNumber[key] && typeof value === 'number') {\n        value = '' + value + 'px';\n    }\n    else if (key === 'content' && !unquotedContentValueRegex.test(value)) {\n        value = \"'\" + value.replace(/'/g, \"\\\\'\") + \"'\";\n    }\n\n    return hyphenateStyleName(key) + ': ' + value + ';  ';\n}\n\nfunction buildValue(key, value) {\n    if (!isUnitlessNumber[key] && typeof value === 'number') {\n        value = '' + value + 'px';\n    }\n    else if (key === 'content' && !unquotedContentValueRegex.test(value)) {\n        value = \"'\" + value.replace(/'/g, \"\\\\'\") + \"'\";\n    }\n\n    return value + '';\n}\n\nfunction styleToCssString(rules) {\n    var result = ''\n    if (!rules || keys(rules).length === 0) {\n        return result;\n    }\n    var styleKeys = keys(rules);\n    for (var j = 0, l = styleKeys.length; j < l; j++) {\n        var styleKey = styleKeys[j];\n        var value = rules[styleKey];\n\n        if (isArray(value)) {\n            for (var i = 0, len = value.length; i < len; i++) {\n                result += buildRule(styleKey, value[i]);\n            }\n        }\n        else {\n            result += buildRule(styleKey, value);\n        }\n    }\n    return result;\n}\n\nlet parse = (jsxCode: string) => {\n    return jsxCompiler.parse(jsxCode, { sourceType: 'module', ecmaVersion: 'latest' });\n}\n\nlet extractModules = (middleCode: any, applet: Applet) => {\n    return middleCode.body\n        .filter((declaration: any) => declaration.type === 'ClassDeclaration')\n        .map((declaration: any) => {\n            return new Module(declaration.id.name, applet, declaration)\n        })\n}\n\nexport default { parse, extractModules, styleToCssString, buildRule, buildValue }\n","export default {\n    quot: '\\u0022',\n    amp: '&',\n    apos: '\\u0027',\n    lt: '<',\n    gt: '>',\n    nbsp: '\\u00A0',\n    iexcl: '\\u00A1',\n    cent: '\\u00A2',\n    pound: '\\u00A3',\n    curren: '\\u00A4',\n    yen: '\\u00A5',\n    brvbar: '\\u00A6',\n    sect: '\\u00A7',\n    uml: '\\u00A8',\n    copy: '\\u00A9',\n    ordf: '\\u00AA',\n    laquo: '\\u00AB',\n    not: '\\u00AC',\n    shy: '\\u00AD',\n    reg: '\\u00AE',\n    macr: '\\u00AF',\n    deg: '\\u00B0',\n    plusmn: '\\u00B1',\n    sup2: '\\u00B2',\n    sup3: '\\u00B3',\n    acute: '\\u00B4',\n    micro: '\\u00B5',\n    para: '\\u00B6',\n    middot: '\\u00B7',\n    cedil: '\\u00B8',\n    sup1: '\\u00B9',\n    ordm: '\\u00BA',\n    raquo: '\\u00BB',\n    frac14: '\\u00BC',\n    frac12: '\\u00BD',\n    frac34: '\\u00BE',\n    iquest: '\\u00BF',\n    Agrave: '\\u00C0',\n    Aacute: '\\u00C1',\n    Acirc: '\\u00C2',\n    Atilde: '\\u00C3',\n    Auml: '\\u00C4',\n    Aring: '\\u00C5',\n    AElig: '\\u00C6',\n    Ccedil: '\\u00C7',\n    Egrave: '\\u00C8',\n    Eacute: '\\u00C9',\n    Ecirc: '\\u00CA',\n    Euml: '\\u00CB',\n    Igrave: '\\u00CC',\n    Iacute: '\\u00CD',\n    Icirc: '\\u00CE',\n    Iuml: '\\u00CF',\n    ETH: '\\u00D0',\n    Ntilde: '\\u00D1',\n    Ograve: '\\u00D2',\n    Oacute: '\\u00D3',\n    Ocirc: '\\u00D4',\n    Otilde: '\\u00D5',\n    Ouml: '\\u00D6',\n    times: '\\u00D7',\n    Oslash: '\\u00D8',\n    Ugrave: '\\u00D9',\n    Uacute: '\\u00DA',\n    Ucirc: '\\u00DB',\n    Uuml: '\\u00DC',\n    Yacute: '\\u00DD',\n    THORN: '\\u00DE',\n    szlig: '\\u00DF',\n    agrave: '\\u00E0',\n    aacute: '\\u00E1',\n    acirc: '\\u00E2',\n    atilde: '\\u00E3',\n    auml: '\\u00E4',\n    aring: '\\u00E5',\n    aelig: '\\u00E6',\n    ccedil: '\\u00E7',\n    egrave: '\\u00E8',\n    eacute: '\\u00E9',\n    ecirc: '\\u00EA',\n    euml: '\\u00EB',\n    igrave: '\\u00EC',\n    iacute: '\\u00ED',\n    icirc: '\\u00EE',\n    iuml: '\\u00EF',\n    eth: '\\u00F0',\n    ntilde: '\\u00F1',\n    ograve: '\\u00F2',\n    oacute: '\\u00F3',\n    ocirc: '\\u00F4',\n    otilde: '\\u00F5',\n    ouml: '\\u00F6',\n    divide: '\\u00F7',\n    oslash: '\\u00F8',\n    ugrave: '\\u00F9',\n    uacute: '\\u00FA',\n    ucirc: '\\u00FB',\n    uuml: '\\u00FC',\n    yacute: '\\u00FD',\n    thorn: '\\u00FE',\n    yuml: '\\u00FF',\n    OElig: '\\u0152',\n    oelig: '\\u0153',\n    Scaron: '\\u0160',\n    scaron: '\\u0161',\n    Yuml: '\\u0178',\n    fnof: '\\u0192',\n    circ: '\\u02C6',\n    tilde: '\\u02DC',\n    Alpha: '\\u0391',\n    Beta: '\\u0392',\n    Gamma: '\\u0393',\n    Delta: '\\u0394',\n    Epsilon: '\\u0395',\n    Zeta: '\\u0396',\n    Eta: '\\u0397',\n    Theta: '\\u0398',\n    Iota: '\\u0399',\n    Kappa: '\\u039A',\n    Lambda: '\\u039B',\n    Mu: '\\u039C',\n    Nu: '\\u039D',\n    Xi: '\\u039E',\n    Omicron: '\\u039F',\n    Pi: '\\u03A0',\n    Rho: '\\u03A1',\n    Sigma: '\\u03A3',\n    Tau: '\\u03A4',\n    Upsilon: '\\u03A5',\n    Phi: '\\u03A6',\n    Chi: '\\u03A7',\n    Psi: '\\u03A8',\n    Omega: '\\u03A9',\n    alpha: '\\u03B1',\n    beta: '\\u03B2',\n    gamma: '\\u03B3',\n    delta: '\\u03B4',\n    epsilon: '\\u03B5',\n    zeta: '\\u03B6',\n    eta: '\\u03B7',\n    theta: '\\u03B8',\n    iota: '\\u03B9',\n    kappa: '\\u03BA',\n    lambda: '\\u03BB',\n    mu: '\\u03BC',\n    nu: '\\u03BD',\n    xi: '\\u03BE',\n    omicron: '\\u03BF',\n    pi: '\\u03C0',\n    rho: '\\u03C1',\n    sigmaf: '\\u03C2',\n    sigma: '\\u03C3',\n    tau: '\\u03C4',\n    upsilon: '\\u03C5',\n    phi: '\\u03C6',\n    chi: '\\u03C7',\n    psi: '\\u03C8',\n    omega: '\\u03C9',\n    thetasym: '\\u03D1',\n    upsih: '\\u03D2',\n    piv: '\\u03D6',\n    ensp: '\\u2002',\n    emsp: '\\u2003',\n    thinsp: '\\u2009',\n    zwnj: '\\u200C',\n    zwj: '\\u200D',\n    lrm: '\\u200E',\n    rlm: '\\u200F',\n    ndash: '\\u2013',\n    mdash: '\\u2014',\n    lsquo: '\\u2018',\n    rsquo: '\\u2019',\n    sbquo: '\\u201A',\n    ldquo: '\\u201C',\n    rdquo: '\\u201D',\n    bdquo: '\\u201E',\n    dagger: '\\u2020',\n    Dagger: '\\u2021',\n    bull: '\\u2022',\n    hellip: '\\u2026',\n    permil: '\\u2030',\n    prime: '\\u2032',\n    Prime: '\\u2033',\n    lsaquo: '\\u2039',\n    rsaquo: '\\u203A',\n    oline: '\\u203E',\n    frasl: '\\u2044',\n    euro: '\\u20AC',\n    image: '\\u2111',\n    weierp: '\\u2118',\n    real: '\\u211C',\n    trade: '\\u2122',\n    alefsym: '\\u2135',\n    larr: '\\u2190',\n    uarr: '\\u2191',\n    rarr: '\\u2192',\n    darr: '\\u2193',\n    harr: '\\u2194',\n    crarr: '\\u21B5',\n    lArr: '\\u21D0',\n    uArr: '\\u21D1',\n    rArr: '\\u21D2',\n    dArr: '\\u21D3',\n    hArr: '\\u21D4',\n    forall: '\\u2200',\n    part: '\\u2202',\n    exist: '\\u2203',\n    empty: '\\u2205',\n    nabla: '\\u2207',\n    isin: '\\u2208',\n    notin: '\\u2209',\n    ni: '\\u220B',\n    prod: '\\u220F',\n    sum: '\\u2211',\n    minus: '\\u2212',\n    lowast: '\\u2217',\n    radic: '\\u221A',\n    prop: '\\u221D',\n    infin: '\\u221E',\n    ang: '\\u2220',\n    and: '\\u2227',\n    or: '\\u2228',\n    cap: '\\u2229',\n    cup: '\\u222A',\n    'int': '\\u222B',\n    there4: '\\u2234',\n    sim: '\\u223C',\n    cong: '\\u2245',\n    asymp: '\\u2248',\n    ne: '\\u2260',\n    equiv: '\\u2261',\n    le: '\\u2264',\n    ge: '\\u2265',\n    sub: '\\u2282',\n    sup: '\\u2283',\n    nsub: '\\u2284',\n    sube: '\\u2286',\n    supe: '\\u2287',\n    oplus: '\\u2295',\n    otimes: '\\u2297',\n    perp: '\\u22A5',\n    sdot: '\\u22C5',\n    lceil: '\\u2308',\n    rceil: '\\u2309',\n    lfloor: '\\u230A',\n    rfloor: '\\u230B',\n    lang: '\\u2329',\n    rang: '\\u232A',\n    loz: '\\u25CA',\n    spades: '\\u2660',\n    clubs: '\\u2663',\n    hearts: '\\u2665',\n    diams: '\\u2666'\n  };","\nimport XHTMLEntities from './xhtml';\nimport * as acornObj from 'acorn';\n\nconst hexNumber = /^[\\da-fA-F]+$/;\nconst decimalNumber = /^\\d+$/;\n\n// The map to `acorn-jsx` tokens from `acorn` namespace objects.\nconst acornJsxMap = new WeakMap();\n\n// Get the original tokens for the given `acorn` namespace object.\nfunction getJsxTokens(acorn) {\n  acorn = acorn.Parser.acorn || acorn;\n  let acornJsx = acornJsxMap.get(acorn);\n  if (!acornJsx) {\n    const tt = acorn.tokTypes;\n    const TokContext = acorn.TokContext;\n    const TokenType = acorn.TokenType;\n    const tc_oTag = new TokContext('<tag', false);\n    const tc_cTag = new TokContext('</tag', false);\n    const tc_expr = new TokContext('<tag>...</tag>', true, true);\n    const tokContexts = {\n      tc_oTag: tc_oTag,\n      tc_cTag: tc_cTag,\n      tc_expr: tc_expr\n    };\n    const tokTypes = {\n      jsxName: new TokenType('jsxName'),\n      jsxText: new TokenType('jsxText', {beforeExpr: true}),\n      jsxTagStart: new TokenType('jsxTagStart', {startsExpr: true}),\n      jsxTagEnd: new TokenType('jsxTagEnd')\n    };\n\n    tokTypes.jsxTagStart.updateContext = function() {\n      this.context.push(tc_expr); // treat as beginning of JSX expression\n      this.context.push(tc_oTag); // start opening tag context\n      this.exprAllowed = false;\n    };\n    tokTypes.jsxTagEnd.updateContext = function(prevType) {\n      let out = this.context.pop();\n      if (out === tc_oTag && prevType === tt.slash || out === tc_cTag) {\n        this.context.pop();\n        this.exprAllowed = this.curContext() === tc_expr;\n      } else {\n        this.exprAllowed = true;\n      }\n    };\n\n    acornJsx = { tokContexts: tokContexts, tokTypes: tokTypes };\n    acornJsxMap.set(acorn, acornJsx);\n  }\n\n  return acornJsx;\n}\n\n// Transforms JSX element name to string.\n\nfunction getQualifiedJSXName(object) {\n  if (!object)\n    return object;\n\n  if (object.type === 'JSXIdentifier')\n    return object.name;\n\n  if (object.type === 'JSXNamespacedName')\n    return object.namespace.name + ':' + object.name.name;\n\n  if (object.type === 'JSXMemberExpression')\n    return getQualifiedJSXName(object.object) + '.' +\n    getQualifiedJSXName(object.property);\n}\n\nexport default function(options?: any) {\n  options = options || {};\n  return function(Parser) {\n    return plugin({\n      allowNamespaces: options.allowNamespaces !== false,\n      allowNamespacedObjects: !!options.allowNamespacedObjects\n    }, Parser);\n  };\n};\n\n// This is `tokTypes` of the peer dep.\n// This can be different instances from the actual `tokTypes` this plugin uses.\nObject.defineProperty(module.exports, \"tokTypes\", {\n  get: function get_tokTypes() {\n    return getJsxTokens(acornObj).tokTypes;\n  },\n  configurable: true,\n  enumerable: true\n});\n\nfunction plugin(options, Parser) {\n  const acorn = Parser.acorn || acornObj;\n  const acornJsx = getJsxTokens(acorn);\n  const tt = acorn.tokTypes;\n  const tok = acornJsx.tokTypes;\n  const tokContexts = acorn.tokContexts;\n  const tc_oTag = acornJsx.tokContexts.tc_oTag;\n  const tc_cTag = acornJsx.tokContexts.tc_cTag;\n  const tc_expr = acornJsx.tokContexts.tc_expr;\n  const isNewLine = acorn.isNewLine;\n  const isIdentifierStart = acorn.isIdentifierStart;\n  const isIdentifierChar = acorn.isIdentifierChar;\n\n  return class extends Parser {\n    // Expose actual `tokTypes` and `tokContexts` to other plugins.\n    static get acornJsx() {\n      return acornJsx;\n    }\n\n    // Reads inline JSX contents token.\n    jsx_readToken() {\n      let out = '', chunkStart = this.pos;\n      for (;;) {\n        if (this.pos >= this.input.length)\n          this.raise(this.start, 'Unterminated JSX contents');\n        let ch = this.input.charCodeAt(this.pos);\n\n        switch (ch) {\n        case 60: // '<'\n        case 123: // '{'\n          if (this.pos === this.start) {\n            if (ch === 60 && this.exprAllowed) {\n              ++this.pos;\n              return this.finishToken(tok.jsxTagStart);\n            }\n            return this.getTokenFromCode(ch);\n          }\n          out += this.input.slice(chunkStart, this.pos);\n          return this.finishToken(tok.jsxText, out);\n\n        case 38: // '&'\n          out += this.input.slice(chunkStart, this.pos);\n          out += this.jsx_readEntity();\n          chunkStart = this.pos;\n          break;\n\n        case 62: // '>'\n        case 125: // '}'\n          this.raise(\n            this.pos,\n            \"Unexpected token `\" + this.input[this.pos] + \"`. Did you mean `\" +\n              (ch === 62 ? \"&gt;\" : \"&rbrace;\") + \"` or \" + \"`{\\\"\" + this.input[this.pos] + \"\\\"}\" + \"`?\"\n          );\n\n        default:\n          if (isNewLine(ch)) {\n            out += this.input.slice(chunkStart, this.pos);\n            out += this.jsx_readNewLine(true);\n            chunkStart = this.pos;\n          } else {\n            ++this.pos;\n          }\n        }\n      }\n    }\n\n    jsx_readNewLine(normalizeCRLF) {\n      let ch = this.input.charCodeAt(this.pos);\n      let out;\n      ++this.pos;\n      if (ch === 13 && this.input.charCodeAt(this.pos) === 10) {\n        ++this.pos;\n        out = normalizeCRLF ? '\\n' : '\\r\\n';\n      } else {\n        out = String.fromCharCode(ch);\n      }\n      if (this.options.locations) {\n        ++this.curLine;\n        this.lineStart = this.pos;\n      }\n\n      return out;\n    }\n\n    jsx_readString(quote) {\n      let out = '', chunkStart = ++this.pos;\n      for (;;) {\n        if (this.pos >= this.input.length)\n          this.raise(this.start, 'Unterminated string constant');\n        let ch = this.input.charCodeAt(this.pos);\n        if (ch === quote) break;\n        if (ch === 38) { // '&'\n          out += this.input.slice(chunkStart, this.pos);\n          out += this.jsx_readEntity();\n          chunkStart = this.pos;\n        } else if (isNewLine(ch)) {\n          out += this.input.slice(chunkStart, this.pos);\n          out += this.jsx_readNewLine(false);\n          chunkStart = this.pos;\n        } else {\n          ++this.pos;\n        }\n      }\n      out += this.input.slice(chunkStart, this.pos++);\n      return this.finishToken(tt.string, out);\n    }\n\n    jsx_readEntity() {\n      let str = '', count = 0, entity;\n      let ch = this.input[this.pos];\n      if (ch !== '&')\n        this.raise(this.pos, 'Entity must start with an ampersand');\n      let startPos = ++this.pos;\n      while (this.pos < this.input.length && count++ < 10) {\n        ch = this.input[this.pos++];\n        if (ch === ';') {\n          if (str[0] === '#') {\n            if (str[1] === 'x') {\n              str = str.substr(2);\n              if (hexNumber.test(str))\n                entity = String.fromCharCode(parseInt(str, 16));\n            } else {\n              str = str.substr(1);\n              if (decimalNumber.test(str))\n                entity = String.fromCharCode(parseInt(str, 10));\n            }\n          } else {\n            entity = XHTMLEntities[str];\n          }\n          break;\n        }\n        str += ch;\n      }\n      if (!entity) {\n        this.pos = startPos;\n        return '&';\n      }\n      return entity;\n    }\n\n    // Read a JSX identifier (valid tag or attribute name).\n    //\n    // Optimized version since JSX identifiers can't contain\n    // escape characters and so can be read as single slice.\n    // Also assumes that first character was already checked\n    // by isIdentifierStart in readToken.\n\n    jsx_readWord() {\n      let ch, start = this.pos;\n      do {\n        ch = this.input.charCodeAt(++this.pos);\n      } while (isIdentifierChar(ch) || ch === 45); // '-'\n      return this.finishToken(tok.jsxName, this.input.slice(start, this.pos));\n    }\n\n    // Parse next token as JSX identifier\n\n    jsx_parseIdentifier() {\n      let node = this.startNode();\n      if (this.type === tok.jsxName)\n        node.name = this.value;\n      else if (this.type.keyword)\n        node.name = this.type.keyword;\n      else\n        this.unexpected();\n      this.next();\n      return this.finishNode(node, 'JSXIdentifier');\n    }\n\n    // Parse namespaced identifier.\n\n    jsx_parseNamespacedName() {\n      let startPos = this.start, startLoc = this.startLoc;\n      let name = this.jsx_parseIdentifier();\n      if (!options.allowNamespaces || !this.eat(tt.colon)) return name;\n      var node = this.startNodeAt(startPos, startLoc);\n      node.namespace = name;\n      node.name = this.jsx_parseIdentifier();\n      return this.finishNode(node, 'JSXNamespacedName');\n    }\n\n    // Parses element name in any form - namespaced, member\n    // or single identifier.\n\n    jsx_parseElementName() {\n      if (this.type === tok.jsxTagEnd) return '';\n      let startPos = this.start, startLoc = this.startLoc;\n      let node = this.jsx_parseNamespacedName();\n      if (this.type === tt.dot && node.type === 'JSXNamespacedName' && !options.allowNamespacedObjects) {\n        this.unexpected();\n      }\n      while (this.eat(tt.dot)) {\n        let newNode = this.startNodeAt(startPos, startLoc);\n        newNode.object = node;\n        newNode.property = this.jsx_parseIdentifier();\n        node = this.finishNode(newNode, 'JSXMemberExpression');\n      }\n      return node;\n    }\n\n    // Parses any type of JSX attribute value.\n\n    jsx_parseAttributeValue() {\n      switch (this.type) {\n      case tt.braceL:\n        let node = this.jsx_parseExpressionContainer();\n        if (node.expression.type === 'JSXEmptyExpression')\n          this.raise(node.start, 'JSX attributes must only be assigned a non-empty expression');\n        return node;\n\n      case tok.jsxTagStart:\n      case tt.string:\n        return this.parseExprAtom();\n\n      default:\n        this.raise(this.start, 'JSX value should be either an expression or a quoted JSX text');\n      }\n    }\n\n    // JSXEmptyExpression is unique type since it doesn't actually parse anything,\n    // and so it should start at the end of last read token (left brace) and finish\n    // at the beginning of the next one (right brace).\n\n    jsx_parseEmptyExpression() {\n      let node = this.startNodeAt(this.lastTokEnd, this.lastTokEndLoc);\n      return this.finishNodeAt(node, 'JSXEmptyExpression', this.start, this.startLoc);\n    }\n\n    // Parses JSX expression enclosed into curly brackets.\n\n    jsx_parseExpressionContainer() {\n      let node = this.startNode();\n      this.next();\n      node.expression = this.type === tt.braceR\n        ? this.jsx_parseEmptyExpression()\n        : this.parseExpression();\n      this.expect(tt.braceR);\n      return this.finishNode(node, 'JSXExpressionContainer');\n    }\n\n    // Parses following JSX attribute name-value pair.\n\n    jsx_parseAttribute() {\n      let node = this.startNode();\n      if (this.eat(tt.braceL)) {\n        this.expect(tt.ellipsis);\n        node.argument = this.parseMaybeAssign();\n        this.expect(tt.braceR);\n        return this.finishNode(node, 'JSXSpreadAttribute');\n      }\n      node.name = this.jsx_parseNamespacedName();\n      node.value = this.eat(tt.eq) ? this.jsx_parseAttributeValue() : null;\n      return this.finishNode(node, 'JSXAttribute');\n    }\n\n    // Parses JSX opening tag starting after '<'.\n\n    jsx_parseOpeningElementAt(startPos, startLoc) {\n      let node = this.startNodeAt(startPos, startLoc);\n      node.attributes = [];\n      let nodeName = this.jsx_parseElementName();\n      if (nodeName) node.name = nodeName;\n      while (this.type !== tt.slash && this.type !== tok.jsxTagEnd)\n        node.attributes.push(this.jsx_parseAttribute());\n      node.selfClosing = this.eat(tt.slash);\n      this.expect(tok.jsxTagEnd);\n      return this.finishNode(node, nodeName ? 'JSXOpeningElement' : 'JSXOpeningFragment');\n    }\n\n    // Parses JSX closing tag starting after '</'.\n\n    jsx_parseClosingElementAt(startPos, startLoc) {\n      let node = this.startNodeAt(startPos, startLoc);\n      let nodeName = this.jsx_parseElementName();\n      if (nodeName) node.name = nodeName;\n      this.expect(tok.jsxTagEnd);\n      return this.finishNode(node, nodeName ? 'JSXClosingElement' : 'JSXClosingFragment');\n    }\n\n    // Parses entire JSX element, including it's opening tag\n    // (starting after '<'), attributes, contents and closing tag.\n\n    jsx_parseElementAt(startPos, startLoc) {\n      let node = this.startNodeAt(startPos, startLoc);\n      let children = [];\n      let openingElement = this.jsx_parseOpeningElementAt(startPos, startLoc);\n      let closingElement = null;\n\n      if (!openingElement.selfClosing) {\n        contents: for (;;) {\n          switch (this.type) {\n          case tok.jsxTagStart:\n            startPos = this.start; startLoc = this.startLoc;\n            this.next();\n            if (this.eat(tt.slash)) {\n              closingElement = this.jsx_parseClosingElementAt(startPos, startLoc);\n              break contents;\n            }\n            children.push(this.jsx_parseElementAt(startPos, startLoc));\n            break;\n\n          case tok.jsxText:\n            children.push(this.parseExprAtom());\n            break;\n\n          case tt.braceL:\n            children.push(this.jsx_parseExpressionContainer());\n            break;\n\n          default:\n            this.unexpected();\n          }\n        }\n        if (getQualifiedJSXName(closingElement.name) !== getQualifiedJSXName(openingElement.name)) {\n          this.raise(\n            closingElement.start,\n            'Expected corresponding JSX closing tag for <' + getQualifiedJSXName(openingElement.name) + '>');\n        }\n      }\n      let fragmentOrElement = openingElement.name ? 'Element' : 'Fragment';\n\n      node['opening' + fragmentOrElement] = openingElement;\n      node['closing' + fragmentOrElement] = closingElement;\n      node.children = children;\n      if (this.type === tt.relational && this.value === \"<\") {\n        this.raise(this.start, \"Adjacent JSX elements must be wrapped in an enclosing tag\");\n      }\n      return this.finishNode(node, 'JSX' + fragmentOrElement);\n    }\n\n    // Parse JSX text\n\n    jsx_parseText() {\n      let node = this.parseLiteral(this.value);\n      node.type = \"JSXText\";\n      return node;\n    }\n\n    // Parses entire JSX element from current position.\n\n    jsx_parseElement() {\n      let startPos = this.start, startLoc = this.startLoc;\n      this.next();\n      return this.jsx_parseElementAt(startPos, startLoc);\n    }\n\n    parseExprAtom(refShortHandDefaultPos?: any) {\n      if (this.type === tok.jsxText)\n        return this.jsx_parseText();\n      else if (this.type === tok.jsxTagStart)\n        return this.jsx_parseElement();\n      else\n        return super.parseExprAtom(refShortHandDefaultPos);\n    }\n\n    readToken(code) {\n      let context = this.curContext();\n\n      if (context === tc_expr) return this.jsx_readToken();\n\n      if (context === tc_oTag || context === tc_cTag) {\n        if (isIdentifierStart(code)) return this.jsx_readWord();\n\n        if (code == 62) {\n          ++this.pos;\n          return this.finishToken(tok.jsxTagEnd);\n        }\n\n        if ((code === 34 || code === 39) && context == tc_oTag)\n          return this.jsx_readString(code);\n      }\n\n      if (code === 60 && this.exprAllowed && this.input.charCodeAt(this.pos + 1) !== 33) {\n        ++this.pos;\n        return this.finishToken(tok.jsxTagStart);\n      }\n      return super.readToken(code);\n    }\n\n    updateContext(prevType) {\n      if (this.type == tt.braceL) {\n        var curContext = this.curContext();\n        if (curContext == tc_oTag) this.context.push(tokContexts.b_expr);\n        else if (curContext == tc_expr) this.context.push(tokContexts.b_tmpl);\n        else super.updateContext(prevType);\n        this.exprAllowed = true;\n      } else if (this.type === tt.slash && prevType === tok.jsxTagStart) {\n        this.context.length -= 2; // do not consider JSX expr -> JSX open tag -> ... anymore\n        this.context.push(tc_cTag); // reconsider as closing tag context\n        this.exprAllowed = false;\n      } else {\n        return super.updateContext(prevType);\n      }\n    }\n  };\n}\n","'use strict';\n\n/**\n * CSS properties which accept numbers but are not in units of \"px\".\n */\nvar isUnitlessNumber = {\n  boxFlex: true,\n  boxFlexGroup: true,\n  columnCount: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n\n  // SVG-related properties\n  fillOpacity: true,\n  strokeDashoffset: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n\n/**\n * @param {string} prefix vendor-specific prefix, eg: Webkit\n * @param {string} key style name, eg: transitionDuration\n * @return {string} style name prefixed with `prefix`, properly camelCased, eg:\n * WebkitTransitionDuration\n */\nfunction prefixKey(prefix, key) {\n  return prefix + key.charAt(0).toUpperCase() + key.substring(1);\n}\n\n/**\n * Support style names that may come passed in prefixed by adding permutations\n * of vendor prefixes.\n */\nvar prefixes = ['Webkit', 'ms', 'Moz', 'O'];\n\n// Using Object.keys here, or else the vanilla for-in loop makes IE8 go into an\n// infinite loop, because it iterates over the newly added props too.\nObject.keys(isUnitlessNumber).forEach(function (prop) {\n  prefixes.forEach(function (prefix) {\n    isUnitlessNumber[prefixKey(prefix, prop)] = isUnitlessNumber[prop];\n  });\n});\n\n/**\n * Most style properties can be unset by doing .style[prop] = '' but IE8\n * doesn't like doing that with shorthand properties so for the properties that\n * IE8 breaks on, which are listed here, we instead unset each of the\n * individual properties. See http://bugs.jquery.com/ticket/12385.\n * The 4-value 'clock' properties like margin, padding, border-width seem to\n * behave without any problems. Curiously, list-style works too without any\n * special prodding.\n */\nvar shorthandPropertyExpansions = {\n  background: {\n    backgroundImage: true,\n    backgroundPosition: true,\n    backgroundRepeat: true,\n    backgroundColor: true\n  },\n  border: {\n    borderWidth: true,\n    borderStyle: true,\n    borderColor: true\n  },\n  borderBottom: {\n    borderBottomWidth: true,\n    borderBottomStyle: true,\n    borderBottomColor: true\n  },\n  borderLeft: {\n    borderLeftWidth: true,\n    borderLeftStyle: true,\n    borderLeftColor: true\n  },\n  borderRight: {\n    borderRightWidth: true,\n    borderRightStyle: true,\n    borderRightColor: true\n  },\n  borderTop: {\n    borderTopWidth: true,\n    borderTopStyle: true,\n    borderTopColor: true\n  },\n  font: {\n    fontStyle: true,\n    fontVariant: true,\n    fontWeight: true,\n    fontSize: true,\n    lineHeight: true,\n    fontFamily: true\n  }\n};\n\nvar CSSProperty = {\n  isUnitlessNumber: isUnitlessNumber,\n  shorthandPropertyExpansions: shorthandPropertyExpansions\n};\n\nexport default CSSProperty\n","\"use strict\";\n\nvar msPattern = /^ms-/;\n\nvar _uppercasePattern = /([A-Z])/g;\n\n/**\n * Hyphenates a camelcased string, for example:\n *\n *   > hyphenate('backgroundColor')\n *   < \"background-color\"\n *\n * For CSS style names, use `hyphenateStyleName` instead which works properly\n * with all vendor prefixes, including `ms`.\n *\n * @param {string} string\n * @return {string}\n */\nfunction hyphenate(string) {\n  return string.replace(_uppercasePattern, '-$1').toLowerCase();\n}\n\n/**\n * Hyphenates a camelcased CSS property name, for example:\n *\n *   > hyphenateStyleName('backgroundColor')\n *   < \"background-color\"\n *   > hyphenateStyleName('MozTransition')\n *   < \"-moz-transition\"\n *   > hyphenateStyleName('msTransition')\n *   < \"-ms-transition\"\n *\n * As Modernizr suggests (http://modernizr.com/docs/#prefixed), an `ms` prefix\n * is converted to `-ms-`.\n *\n * @param {string} string\n * @return {string}\n */\nfunction hyphenateStyleName(string) {\n  return hyphenate(string).replace(msPattern, '-ms-');\n}\n\nexport default hyphenateStyleName\n","\nimport BaseElement from \"../elements/BaseElement\"\n\nlet prettify = (obj: any) => {\n    return JSON.stringify(obj, undefined, 4)\n}\n\nlet updates = []\n\nlet findChanges = (parentKey: string, el1: BaseElement, el2: BaseElement) => {\n    if (el1._key !== el2._key) {\n        updates.push(\n            {\n                __action__: 'element_deleted',\n                __key__: el1._key,\n                __parentKey__: parentKey\n            },\n            {\n                __action__: 'element_created',\n                __key__: el2._key,\n                __element__: el2,\n                __parentKey__: parentKey\n            }\n        )\n        return\n    }\n    let propsChanges = { __action__: 'props_updated', __key__: el2._key, __created__: {}, __deleted__: {}, __updated__: {} }\n    for (let pKey in el2._props) {\n        if (el1._props[pKey] === undefined) {\n            propsChanges.__created__[pKey] = el2._props[pKey]\n        }\n    }\n    for (let pKey in el1._props) {\n        if (el2._props[pKey] === undefined) {\n            propsChanges.__deleted__[pKey] = el2._props[pKey]\n        }\n    }\n    for (let pKey in el2._props) {\n        if (el1._props[pKey] !== undefined && el2._props[pKey] !== undefined) {\n            if (el1._props[pKey].getValue() !== el2._props[pKey].getValue()) {\n                propsChanges.__updated__[pKey] = el2._props[pKey]\n            }\n        }\n    }\n    if (\n        (Object.keys(propsChanges.__created__).length > 0) ||\n        (Object.keys(propsChanges.__deleted__).length > 0) ||\n        (Object.keys(propsChanges.__updated__).length > 0)\n    ) {\n        updates.push(propsChanges)\n    }\n    let stylesChanges = { __action__: 'styles_updated', __key__: el2._key, __created__: {}, __deleted__: {}, __updated__: {} }\n    for (let sKey in el2._styles) {\n        if (el1._styles[sKey] === undefined) {\n            stylesChanges.__created__[sKey] = el2._styles[sKey]\n        }\n    }\n    for (let sKey in el1._styles) {\n        if (el2._styles[sKey] === undefined) {\n            stylesChanges.__deleted__[sKey] = el2._styles[sKey]\n        }\n    }\n    for (let sKey in el2._styles) {\n        if (el1._styles[sKey] !== undefined && el2._styles[sKey] !== undefined) {\n            if (el1._styles[sKey] !== el2._styles[sKey]) {\n                stylesChanges.__updated__[sKey] = el2._styles[sKey]\n            }\n        }\n    }\n    if (\n        (Object.keys(stylesChanges.__created__).length > 0) ||\n        (Object.keys(stylesChanges.__deleted__).length > 0) ||\n        (Object.keys(stylesChanges.__updated__).length > 0)\n    ) {\n        updates.push(stylesChanges)\n    }\n    let cs = {}\n    el2._children.forEach(child => { cs[child._key] = child })\n    el1._children.forEach(child => {\n        if (cs[child._key]) {\n            findChanges(el1._key, child, cs[child._key])\n        } else {\n            updates.push(\n                {\n                    __action__: 'element_deleted',\n                    __key__: child._key,\n                    __parentKey__: el1._key\n                }\n            )\n        }\n    })\n    cs = {}\n    el1._children.forEach(child => { cs[child._key] = child })\n    el2._children.forEach(child => {\n        if (!cs[child._key]) {\n            updates.push(\n                {\n                    __action__: 'element_created',\n                    __key__: child._key,\n                    __element__: child,\n                    __parentKey__: el2._key\n                }\n            )\n        }\n    })\n}\n\nlet diff = (el1: BaseElement, el2: BaseElement) => {\n    updates = []\n    findChanges(undefined, el1, el2)\n    return updates\n}\n\nexport default { prettify, diff }\n","\nimport BaseElement from \"../elements/BaseElement\"\nimport Creature from \"../Creature\"\nimport Controls from '../controls/index'\nimport ExecutionMeta from \"../ExecutionMeta\"\nimport Utils from '.'\n\nlet executeSingle = (code: any, meta: ExecutionMeta) => {\n    let callback = codeCallbacks[code.type]\n    if (callback) {\n        let r = callback(code, meta)\n        return r\n    } else {\n        return code\n    }\n}\n\nlet executeBlock = (codes: Array<any>, meta: ExecutionMeta) => {\n    for (let i = 0; i < codes.length; i++) {\n        let code = codes[i]\n        let r = executeSingle(code, meta)\n        if (r?.returnFired) return r\n    }\n}\n\nlet findLayer = (meta: ExecutionMeta, id: string) => {\n    for (let i = meta.creature.runtime.stack.length - 1; i >= 0; i--) {\n        let r = meta.creature._runtime.stack[i].findUnit(id)\n        if (r !== undefined) {\n            return meta.creature.runtime.stack[i]\n        }\n    }\n}\n\nconst generateCallbackFunction = (code: any, meta: ExecutionMeta) => {\n    let newMetaBranch = meta\n    return (...args: Array<any>) => {\n        let parameters = {}\n        code.params.forEach((param: any, index: number) => {\n            parameters[param.name] = args[index]\n        })\n        let firstParam = args[0]\n        if (firstParam && (firstParam instanceof ExecutionMeta) && firstParam.isAnotherCreature) {\n            newMetaBranch = firstParam\n        }\n        newMetaBranch.creature.runtime.pushOnStack(parameters)\n        let result = executeSingle(code.body, newMetaBranch)\n        newMetaBranch.creature.runtime.popFromStack()\n        return result?.value\n    }\n}\n\nconst resolveResource = (path: string): any => {\n    return { default: 'hello world !' }\n}\n\nlet codeCallbacks = {\n    ImportDeclaration: (code: any, meta: ExecutionMeta) => {\n        let scriptPath = code.source.value\n        code.specifiers.forEach((c: any) => {\n            let value = undefined\n            let memUnitId = undefined\n            let res = resolveResource(scriptPath)\n            if (c.type === 'ImportDefaultSpecifier') {\n                memUnitId = c.local.name\n                value = res['default']\n            } else if (c.type === 'ImportSpecifier') {\n                memUnitId = c.local.name\n                value = res[c.imported.name]\n            } else if (c.type === 'ImportNamespaceSpecifier') {\n                memUnitId = c.local.name\n                value = res\n            }\n            meta.creature.runtime.stackTop.putUnit(memUnitId, value)\n        });\n    },\n    UnaryExpression: (code: any, meta: ExecutionMeta) => {\n        if (code.operator === '!') {\n            return !executeSingle(code.argument, meta)\n        }\n    },\n    LogicalExpression: (code: any, meta: ExecutionMeta) => {\n        if (code.operator === '&&') {\n            return executeSingle(code.left, meta) && executeSingle(code.right, meta)\n        } else if (code.operator === '||') {\n            return executeSingle(code.left, meta) || executeSingle(code.right, meta)\n        }\n    },\n    ConditionalExpression: (code: any, meta: ExecutionMeta) => {\n        return executeSingle(code.test, meta) ? executeSingle(code.consequent, meta) : executeSingle(code.alternate, meta)\n    },\n    ThisExpression: (code: any, meta: ExecutionMeta) => {\n        return meta.creature.thisObj\n    },\n    JSXExpressionContainer: (code: any, meta: ExecutionMeta) => {\n        return executeSingle(code.expression, meta)\n    },\n    JSXText: (code: any, meta: ExecutionMeta) => {\n        let data = code.value.trim()\n        if (meta.isParentScript) {\n            let codes = Utils.compiler.parse(data)\n            executeBlock((codes as any).body, new ExecutionMeta({ ...meta, isParentScript: false }))\n        }\n        return data\n    },\n    JSXElement: (code: any, meta: ExecutionMeta) => {\n        if (!code.cosmoId) code.cosmoId = Utils.generator.generateKey()\n        let Control = meta.creature.module.applet.findModule(code.openingElement.name.name)\n        let attrs = {}\n        code.openingElement.attributes.forEach((attr: any) => {\n            attrs[attr.name.name] = executeSingle(attr.value, meta)\n        })\n\n        let key = attrs['key']\n        if (key === undefined) {\n            key = code.cosmoId\n        }\n        if (meta.parentJsxKey) key = meta.parentJsxKey + '-' + key\n        attrs['key'] = key\n\n        let c = meta.creature.module.applet.cache.elements[key];\n        let isNew = (c === undefined)\n\n        c = Control.instantiate(attrs, attrs['style'], [], c?.thisObj)\n\n        let childMeta = new ExecutionMeta({ ...meta, parentJsxKey: key, isParentScript: (code.openingElement.name.name === 'script') })\n        let children = code.children.map((child: any) => executeSingle(child, childMeta))\n            .flat(Infinity).filter((child: any) => (child !== ''))\n        c.fillChildren(children)\n        if (meta.parentJsxKey) c.thisObj.parentJsxKey = meta.parentJsxKey\n\n        let newMetaBranch = Utils.generator.nestedContext(c, { ...meta, parentJsxKey: key })\n        meta.creature.module.applet.cache.elements[key] = c\n        if (isNew) c.getBaseMethod('constructor')(newMetaBranch)\n        if (meta.creature.module.applet.firstMount) {\n            c.getBaseMethod('onMount')(newMetaBranch)\n        } else {\n            meta.creature.module.applet.cache.mounts.push(() => c.getBaseMethod('onMount')(newMetaBranch))\n        }\n        let r = c.getBaseMethod('render')(newMetaBranch)\n        if (!meta.creature.module.applet.oldVersions[c._key]) {\n            meta.creature.module.applet.oldVersions[c._key] = r\n        }\n        return r\n    },\n    Program: (code: any, meta: ExecutionMeta) => {\n        code.body.forEach((child: any) => {\n            executeSingle(child, meta)\n        })\n    },\n    Literal: (code: any, meta: ExecutionMeta) => {\n        return code.value\n    },\n    FunctionExpression: (code: any, meta: ExecutionMeta) => {\n        let newCreatureBranch = new Creature(meta.creature.module, { ...meta.creature, runtime: meta.creature.runtime.clone() })\n        let newMetaBranch = new ExecutionMeta({ ...meta, creature: newCreatureBranch })\n        return generateCallbackFunction(code, newMetaBranch)\n    },\n    FunctionDeclaration: (code: any, meta: ExecutionMeta) => {\n        let newCreatureBranch = new Creature(meta.creature.module, { ...meta.creature, runtime: meta.creature.runtime.clone() })\n        let newMetaBranch = new ExecutionMeta({ ...meta, creature: newCreatureBranch })\n        meta.creature.runtime.stackTop.putUnit(code.id.name, generateCallbackFunction(code, newMetaBranch))\n    },\n    MethodDefinition: (code: any, meta: ExecutionMeta) => {\n        meta.creature.runtime.stackTop.putUnit(code.key.name, executeSingle(code.value, meta))\n    },\n    VariableDeclaration: (code: any, meta: ExecutionMeta) => {\n        if (code.kind === 'let') {\n            code.declarations.forEach((d: any) => executeSingle(d, new ExecutionMeta({ ...meta, declaration: true, declarationType: 'let' })));\n        } else if (code.kind === 'const') {\n            code.declarations.forEach((d: any) => executeSingle(d, new ExecutionMeta({ ...meta, declaration: true, declarationType: 'const' })));\n        }\n    },\n    VariableDeclarator: (code: any, meta: ExecutionMeta) => {\n        if (meta?.declaration) {\n            let val = executeSingle(code.init, meta)\n            if (code.id.type === 'ObjectPattern') {\n                code.id.properties.forEach((property: any) => {\n                    meta.creature.runtime.stackTop.putUnit(property.key.name, val[property.key.name])\n                });\n            } else {\n                meta.creature.runtime.stackTop.putUnit(code.id.name, val)\n            }\n        }\n    },\n    Identifier: (code: any, meta: ExecutionMeta) => {\n        if (meta.returnIdParent) {\n            for (let i = meta.creature.runtime.stack.length - 1; i >= 0; i--) {\n                let wrapper = findLayer(meta, code.name)\n                if (wrapper) {\n                    return { parent: wrapper.units, id: code.name }\n                }\n            }\n        } else {\n            for (let i = meta.creature.runtime.stack.length - 1; i >= 0; i--) {\n                let r = meta.creature.runtime.stack[i].findUnit(code.name)\n                if (r !== undefined) {\n                    return r\n                }\n            }\n        }\n    },\n    BinaryExpression: (code: any, meta: ExecutionMeta) => {\n        if (code.operator === '+') {\n            return executeSingle(code.left, meta) + executeSingle(code.right, meta)\n        } else if (code.operator === '-') {\n            return executeSingle(code.left, meta) - executeSingle(code.right, meta)\n        } else if (code.operator === '*') {\n            return executeSingle(code.left, meta) * executeSingle(code.right, meta)\n        } else if (code.operator === '/') {\n            return executeSingle(code.left, meta) / executeSingle(code.right, meta)\n        } else if (code.operator === '^') {\n            return Math.pow(executeSingle(code.left, meta), executeSingle(code.right, meta))\n        } else if (code.operator === '%') {\n            return executeSingle(code.left, meta) % executeSingle(code.right, meta)\n        } else if (code.operator === '===') {\n            return executeSingle(code.left, meta) === executeSingle(code.right, meta)\n        } else if (code.operator === '<') {\n            return executeSingle(code.left, meta) < executeSingle(code.right, meta)\n        } else if (code.operator === '>') {\n            return executeSingle(code.left, meta) > executeSingle(code.right, meta)\n        } else if (code.operator === '&') {\n            return executeSingle(code.left, meta) & executeSingle(code.right, meta)\n        } else if (code.operator === '|') {\n            return executeSingle(code.left, meta) | executeSingle(code.right, meta)\n        }\n    },\n    IfStatement: (code: any, meta: ExecutionMeta) => {\n        if (executeSingle(code.test, meta)) {\n            let r = executeSingle(code.consequent, meta)\n            if (r?.breakFired) return r\n            else if (r?.returnFired) return r\n        } else if (code.alternate) {\n            let r = executeSingle(code.alternate, meta)\n            if (r?.breakFired) return r\n            else if (r?.returnFired) return r\n        }\n    },\n    BreakStatement: (code: any, meta: ExecutionMeta) => {\n        return { breakFired: true };\n    },\n    WhileStatement: (code: any, meta: ExecutionMeta) => {\n        while (executeSingle(code.test, meta)) {\n            let r = executeSingle(code.body, meta)\n            if (r?.breakFired) break\n            else if (r?.returnFired) return r\n        }\n    },\n    BlockStatement: (code: any, meta: ExecutionMeta) => {\n        for (let i = 0; i < code.body?.length; i++) {\n            let r = executeSingle(code.body[i], meta)\n            if (r?.breakFired) return r\n            else if (r?.returnFired) return r\n        }\n    },\n    ExpressionStatement: (code: any, meta: ExecutionMeta) => {\n        return executeSingle(code.expression, meta)\n    },\n    AssignmentExpression: (code: any, meta: ExecutionMeta) => {\n        let right = executeSingle(code.right, meta)\n        let wrapper = executeSingle(code.left, { ...meta, returnIdParent: true })\n        if (wrapper) {\n            if (wrapper.parent !== undefined) {\n                let before = wrapper.parent[wrapper.id]\n                if (code.operator === '=') {\n                    wrapper.parent[wrapper.id] = right\n                } else if (code.operator === '+=') {\n                    wrapper.parent[wrapper.id] = before + right\n                } else if (code.operator === '-=') {\n                    wrapper.parent[wrapper.id] = before - right\n                } else if (code.operator === '*=') {\n                    wrapper.parent[wrapper.id] = before * right\n                } else if (code.operator === '/=') {\n                    wrapper.parent[wrapper.id] = before / right\n                } else if (code.operator === '^=') {\n                    wrapper.parent[wrapper.id] = Math.pow(before, right)\n                } else if (code.operator === '%=') {\n                    wrapper.parent[wrapper.id] = before % right\n                }\n            } else {\n                let layer = findLayer(meta, wrapper.id)\n                if (layer) {\n                    let r = layer.findUnit(wrapper.id)\n                    if (r) {\n                        if (code.operator === '=') {\n                            r = right\n                        } else if (code.operator === '+=') {\n                            r += right\n                        } else if (code.operator === '-=') {\n                            r -= right\n                        } else if (code.operator === '*=') {\n                            r *= right\n                        } else if (code.operator === '/=') {\n                            r /= right\n                        } else if (code.operator === '^=') {\n                            r = Math.pow(r, right)\n                        } else if (code.operator === '%=') {\n                            r %= right\n                        }\n                        layer.putUnit(code.name, r)\n                    }\n                }\n            }\n        }\n    },\n    ForStatement: (code: any, meta: ExecutionMeta) => {\n        for (executeSingle(code.init, meta); executeSingle(code.test, meta); executeSingle(code.update, meta)) {\n            let r = executeSingle(code.body, meta)\n            if (r?.breakFired) break\n            else if (r?.returnFired) return r\n        }\n    },\n    UpdateExpression: (code: any, meta: ExecutionMeta) => {\n        if (['++', '--'].includes(code.operator)) {\n            let wrapper = executeSingle(code.argument, { ...meta, returnIdParent: true })\n            if (wrapper) {\n                if (wrapper.parent !== undefined) {\n                    let before = wrapper.parent[wrapper.id]\n                    if (typeof before === 'number') {\n                        if (code.operator === '++') before++\n                        else if (code.operator === '--') before--\n                        wrapper.parent[wrapper.id] = before\n                    }\n                } else {\n                    let layer = findLayer(meta, wrapper.id)\n                    if (layer) {\n                        let r = layer.findUnit(wrapper.id)\n                        if (r) {\n                            if (typeof r === 'number') {\n                                if (code.operator === '++') r++\n                                else if (code.operator === '--') r--\n                                layer.putUnit(code.name, r)\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    },\n    CallExpression: (code: any, meta: ExecutionMeta) => {\n        let prop = undefined\n        if (code.property === undefined) {\n            let r = executeSingle(code.callee, meta);\n            return r(...code.arguments.map((c: any) => executeSingle(c, meta)));\n        } else {\n            if (code.callee.property.type === 'Identifier') {\n                prop = code.callee.property.name\n            }\n            let r = executeSingle(code.callee.object, meta);\n            return r[prop](...code.arguments.map((c: any) => executeSingle(c, meta)))\n        }\n    },\n    MemberExpression: (code: any, meta: ExecutionMeta) => {\n        let prop = undefined\n        if (code.property === undefined) {\n            let r = executeSingle(code.object, meta);\n            if (meta.returnIdParent) {\n                return { parent: undefined, id: code.name }\n            } else {\n                return r;\n            }\n        } else {\n            if (code.computed) {\n                prop = executeSingle(code.property, meta);\n            } else {\n                if (code.property.type === 'Identifier') {\n                    prop = code.property.name\n                } else if (code.property.type === 'Literal') {\n                    prop = code.property.value;\n                }\n            }\n            let filteredMeta = { ...meta }\n            delete filteredMeta['returnIdParent']\n            let r = executeSingle(code.object, filteredMeta);\n            if (Array.isArray(r)) {\n                let p = r[prop];\n                if (typeof p === 'function') {\n                    return (...args: Array<any>) => {\n                        switch (prop) {\n                            case 'push': {\n                                return r.push(...args)\n                            }\n                            case 'map': {\n                                return r.map(...args)\n                            }\n                            case 'forEach': {\n                                return r.forEach(...args)\n                            }\n                            default: {\n\n                            }\n                        }\n                    }\n                } else {\n                    if (meta.returnIdParent) {\n                        return { parent: r, id: prop }\n                    } else {\n                        return r[prop];\n                    }\n                }\n            } else {\n                if (meta.returnIdParent) {\n                    return { parent: r, id: prop }\n                } else {\n                    return r[prop];\n                }\n            }\n        }\n    },\n    SwitchStatement: (code: any, meta: ExecutionMeta) => {\n        let disc = executeSingle(code.discriminant, meta)\n        for (let i = 0; i < code.cases.length; i++) {\n            let c = code.cases[i]\n            if (c.type === 'SwitchCase') {\n                let caseCond = executeSingle(c.test, meta);\n                if (disc === caseCond) {\n                    for (let j = 0; j < c.consequent.lengthl; j++) {\n                        let co = c.consequent[j]\n                        let r = executeSingle(co, meta)\n                        if (r?.returnFired) return r\n                    }\n                }\n            }\n        }\n    },\n    ArrowFunctionExpression: (code: any, meta: ExecutionMeta) => {\n        let newCreatureBranch = new Creature(meta.creature.module, { ...meta.creature, runtime: meta.creature.runtime.clone() })\n        let newMetaBranch = new ExecutionMeta({ ...meta, creature: newCreatureBranch })\n        return generateCallbackFunction(code, newMetaBranch)\n    },\n    ObjectExpression: (code: any, meta: ExecutionMeta) => {\n        let obj = {}\n        code.properties.forEach((property: any) => {\n            if (property.type === 'Property') {\n                if (property.key.type === 'Identifier') {\n                    obj[property.key.name] = executeSingle(property.value, meta)\n                }\n            } else {\n                if (property.type === 'SpreadElement') {\n                    obj[property.argument.name] = executeSingle(property, meta)\n                }\n            }\n        })\n        return obj\n    },\n    ArrayExpression: (code: any, meta: ExecutionMeta) => {\n        let result = []\n        code.elements.forEach((arrEl: any) => {\n            let r = executeSingle(arrEl, meta)\n            if ((arrEl.type === 'SpreadElement') && Array.isArray(r)) {\n                result.push(...r)\n            } else {\n                result.push(r)\n            }\n        })\n        return result\n    },\n    SpreadElement: (code: any, meta: ExecutionMeta) => {\n        let source = executeSingle(code.argument, meta)\n        if (Array.isArray(source)) {\n            return [...source]\n        } else {\n            return { ...source }\n        }\n    },\n    ReturnStatement: (code: any, meta: ExecutionMeta) => {\n        return { value: executeSingle(code.argument, meta), returnFired: true }\n    }\n}\n\nexport default { executeSingle, executeBlock, ExecutionMeta }\n","\nimport generator from './generator'\nimport compiler from './compiler'\nimport json from './json'\nimport executor from './executor'\n\nexport default { generator, compiler, json, executor }\n","\nimport Creature from './Creature'\nimport INative from './INative'\nimport MemoryLayer from './MemoryLayer'\nimport Memory from './MemoryLayer'\nimport Module from './Module'\nimport Utils from './utils'\n\nclass Runtime {\n\n    private _module: Module\n    public get module() { return this._module }\n\n    private _creature: Creature\n    public get creature() { return this._creature }\n\n    private _native: INative\n    public get native() { return this._native }\n\n    public stack: Array<Memory> = []\n    public pushOnStack(initialUnits?: { [id: string]: any }) { this.stack.push(new MemoryLayer(initialUnits)) }\n    public popFromStack() { this.stack.pop() }\n    public get stackTop() { return this.stack[this.stack.length - 1] }\n    public resetStack() {\n        this.stack = []\n        this.pushOnStack({ ...this._native })\n    }\n\n    public reset() {\n        this.resetStack()\n    }\n\n    public execute(ast: any) {\n        Utils.executor.executeBlock(ast, new Utils.executor.ExecutionMeta({ creature: this._creature }))\n    }\n\n    public load() {\n        this.execute(this.module.ast.body.body)\n    }\n\n    public clone() {\n        let copy = new Runtime(this.module, this.creature, { native: this.native, stack: new Array(...this.stack) })\n        return copy\n    }\n\n    constructor(module: Module, creature?: Creature, reusableTools?: any) {\n        this._module = module\n        this._creature = creature\n        this._native = reusableTools?.native ? reusableTools.native : this._module.applet._nativeBuilder(this._module)\n        if (reusableTools?.stack) {\n            this.stack = reusableTools.stack\n        } else {\n            this.reset()\n        }\n    }\n}\n\n\nexport default Runtime\n","\nimport DOM from \"./DOM\"\nimport ExecutionMeta from \"./ExecutionMeta\"\nimport Module from \"./Module\"\nimport Runtime from \"./Runtime\"\nimport BaseElement from \"./elements/BaseElement\"\nimport Utils from './utils'\n\nclass Creature {\n\n    public _key: string\n    public get key() { return this._key }\n\n    private _cosmoId: string\n    public get cosmoId() { return this._cosmoId }\n    public setCosmoId(cosmoId: string) { this._cosmoId = cosmoId }\n\n    private _module: Module\n    public get module() { return this._module }\n\n    public _runtime: Runtime\n    public get runtime() { return this._runtime }\n\n    public _dom: DOM\n    public get dom() { return this._dom }\n\n    public thisObj: { [id: string]: any }\n\n    public getBaseMethod(methodId: string) {\n        return this._runtime.stack[0].findUnit(methodId)\n    }\n\n    public update(props?: { [id: string]: any }, styles?: { [id: string]: any }, children?: Array<BaseElement>) {\n        this.thisObj = {\n            ...this.thisObj,\n            props,\n            styles,\n            children\n        }\n    }\n\n    public fillChildren(children: Array<BaseElement>) {\n        this.thisObj.children = children\n    }\n\n    constructor(module: Module, defaultValues?: any) {\n        this._key = defaultValues?._key ? defaultValues._key : Utils.generator.generateKey()\n        this._cosmoId = defaultValues?.cosmoId\n        this._module = module\n        this._dom = defaultValues?.dom ? defaultValues.dom : new DOM(this._module, this)\n        this._runtime = defaultValues?.runtime ? defaultValues.runtime : new Runtime(this._module, this)\n        this.thisObj = defaultValues?.thisObj\n        if (!defaultValues?.runtime) {\n            this._runtime.load()\n        }\n        if (!this.thisObj) {\n            this.thisObj = {}\n            Object.keys(this._runtime.stack[0].units).forEach(k => {\n                if (!this._runtime.native[k] || (k === 'constructor')) {\n                    this.thisObj[k] = this._runtime.stack[0].units[k]\n                }\n            })\n            this.thisObj = {}\n        }\n        this.thisObj['setState'] = (stateUpdate: { [id: string]: any }) => {\n            console.log(stateUpdate)\n            this.thisObj['state'] = { ...this.thisObj['state'], ...stateUpdate }\n            let newMetaBranch = new ExecutionMeta({ creature: this, parentJsxKey: this.thisObj['parentJsxKey'] })\n            let newRender = this.getBaseMethod('render')(newMetaBranch)\n            this._module.applet.onCreatureStateChange(this, newRender)\n        }\n    }\n}\n\nexport default Creature\n","\nimport Creature from \"./Creature\"\nimport Func from \"./Func\"\n\nclass CreatureStore {\n\n    private _store: { [id: string]: Creature }\n    public putCreature(creature: Creature) { this._store[creature.key] = creature }\n    public removeCreature(key: string) { delete this._store[key] }\n    public findCreature(key: string) { return this._store[key] }\n\n    constructor() {\n        this._store = {}\n    }\n}\n\nexport default CreatureStore\n","import Func from \"./Func\"\n\nclass FuncStore {\n\n    private _store: { [id: string]: Func }\n    public get store() { return this._store }\n    public putFunc(func: Func) { this._store[func.key] = func }\n    public removeFunc(key: string) { delete this._store[key] }\n    public findFunc(key: string) { return this._store[key] }\n\n    constructor() {\n        this._store = {}\n    }\n}\n\nexport default FuncStore\n","\nimport Applet from \"./Applet\"\nimport Creature from \"./Creature\"\nimport CreatureStore from \"./CreatureStore\"\nimport DOM from \"./DOM\"\nimport FuncStore from \"./FuncStore\"\nimport Runtime from \"./Runtime\"\nimport BaseElement from \"./elements/BaseElement\"\nimport Utils from './utils'\n\nclass Module {\n\n    private _applet: Applet\n    public get applet() { return this._applet }\n    public setApplet(applet: Applet) { this._applet = applet }\n\n    private _creatures: CreatureStore\n    public get creatures() { return this._creatures }\n\n    private _key: string\n    get key() { return this._key }\n\n    private _funcs: FuncStore\n    public get funcs() { return this._funcs }\n\n    private _dom: DOM\n    public get dom() { return this._dom }\n\n    private _ast?: any\n    public get ast() { return this._ast }\n    public setAst(ast: any) { this._ast = ast }\n\n    public instantiate(props?: { [id: string]: any }, styles?: { [id: string]: any }, children?: Array<BaseElement>, thisObj?: any) {\n        let creature = new Creature(\n            this,\n            {\n                cosmoId: props?.key,\n                thisObj: thisObj ?\n                    {\n                        ...thisObj,\n                        props: props ? props : {},\n                        styles: styles ? styles : {},\n                        children: children ? children : []\n                    } : {\n                        props: props ? props : {},\n                        styles: styles ? styles : {},\n                        children: children ? children : []\n                    }\n            }\n        )\n        this._creatures.putCreature(creature)\n        return creature\n    }\n\n    constructor(key: string, applet: Applet, ast?: any) {\n        this._key = key\n        this._applet = applet\n        this._ast = ast\n        this._creatures = new CreatureStore()\n        this._funcs = new FuncStore()\n        this._dom = new DOM(this)\n    }\n}\n\nexport default Module\n","\nimport Module from './Module'\nimport Utils from './utils/index'\nimport INative from './INative'\nimport Creature from './Creature'\nimport BaseElement from './elements/BaseElement'\n\nexport class Runnable {\n\n    root: BaseElement\n    mount: () => void\n\n    constructor(root: BaseElement, mount: () => void) {\n        this.root = root\n        this.mount = mount\n    }\n}\n\nclass Applet {\n\n    _key: string\n    public get key() { return this._key }\n\n    _genesisCreature: Creature\n\n    _nativeBuilder: (mod: Module) => INative\n\n    private _modules: { [id: string]: Module }\n    public findModule(id: string) { return this._modules[id] }\n    public putModule(module: Module) {\n        module.setApplet(this)\n        this._modules[module.key] = module\n    }\n    public removeModule(key: string) { delete this._modules[key] }\n\n    middleCode: any\n\n    public fill(jsxCode: any) {\n        this.middleCode = Utils.compiler.parse(jsxCode)\n        console.log(Utils.json.prettify(this.middleCode))\n        let r = Utils.compiler.extractModules(this.middleCode, this)\n        r.forEach((module: Module) => this.putModule(module))\n    }\n\n    cache = {\n        elements: {},\n        mounts: []\n    }\n\n    oldVersions = {}\n\n    onCreatureStateChange(creature: Creature, newVersion: BaseElement) {\n        let oldVersion = this.oldVersions[creature._key]\n        this.oldVersions[creature._key] = newVersion\n        let updates = Utils.json.diff(oldVersion, newVersion)\n        updates.forEach((u: any) => {\n            if (u.__action__ === 'element_deleted') {\n                let keys = Object.keys(this.cache.elements).filter(k => {\n                    if (k.startsWith(u.__key__)) {\n                        delete this.cache.elements[k]\n                        return true\n                    } else {\n                        return false\n                    }\n                })\n                if (keys.length > 0) {\n                    let temp = keys[keys.length - 1].split('-')\n                    if (temp.length > 1) {\n                        let temp2 = temp.slice(0, temp.length - 1).join('-')\n                        delete this.cache.elements[temp2]\n                    }\n                }\n            }\n        })\n        this.update(oldVersion._key, updates)\n    }\n\n    update: (key: string, u: any) => void\n    firstMount: boolean = false;\n\n    public runRaw(update: (key: string, u: any) => void) {\n        return new Promise(resolve => {\n            this.update = update\n            this.firstMount = false\n            this.cache.elements = {}\n            this.cache.mounts = []\n            let dummyClassMiddleCode = Utils.compiler.parse('class Main {}')\n            let r = Utils.compiler.extractModules(dummyClassMiddleCode, this)\n            let genesisMod = r[0]\n            this.putModule(genesisMod)\n            this._genesisCreature = genesisMod.instantiate()\n            let genesisMetaContext = Utils.generator.nestedContext(this._genesisCreature)\n            let view = Utils.executor.executeBlock(this.middleCode.body, genesisMetaContext)\n            resolve(\n                new Runnable(\n                    view,\n                    () => {\n                        this.firstMount = true\n                        this.cache.mounts.reverse().forEach((onMount: any) => onMount())\n                    }\n                )\n            )\n        })\n    }\n\n    public setContextBuilder(ctxBuilder: (mod: Module) => INative) {\n        this._nativeBuilder = ctxBuilder\n    }\n\n    public run(genesis: string, update: (key: string, u: any) => void) {\n        return new Promise(resolve => {\n            this.update = update\n            this.firstMount = false\n            this.cache.elements = {}\n            this.cache.mounts = []\n            let genesisMod = this._modules[genesis]\n            this._genesisCreature = genesisMod.instantiate()\n            let genesisMetaContext = Utils.generator.nestedContext(this._genesisCreature)\n            this.cache.mounts.push(() => this._genesisCreature.getBaseMethod('onMount')(genesisMetaContext))\n            this._genesisCreature.getBaseMethod('constructor')(genesisMetaContext)\n            let view = this._genesisCreature.getBaseMethod('render')(genesisMetaContext)\n            this.oldVersions[this._genesisCreature._key] = view\n            resolve(\n                new Runnable(\n                    view,\n                    () => {\n                        this.firstMount = true\n                        this.cache.mounts.reverse().forEach((onMount: any) => onMount())\n                    }\n                )\n            )\n        })\n    }\n\n    constructor(key: string, modules?: { [id: string]: Module }) {\n        this._key = key\n        this._modules = modules ? modules : {}\n    }\n}\n\nexport default Applet\n","\nclass BaseControl {\n\n}\n\nexport default BaseControl\n","\nimport BaseControl from './BaseControl';\nimport Utils from '../utils';\nimport BaseElement from '../elements/BaseElement';\n\nclass BoxControl extends BaseControl {\n\n    public static readonly TYPE = 'box'\n    public static defaultProps = {\n        \n    }\n    public static defaultStyles = {\n        width: 200,\n        height: 200\n    }\n\n    public static instantiate(overridenProps: { [id: string]: any }, overridenStyles: { [id: string]: any }, children: Array<BaseElement>) {\n        return Utils.generator.prepareElement(BoxControl.TYPE, this.defaultProps, overridenProps, this.defaultStyles, overridenStyles, children)\n    }\n}\n\nexport default BoxControl\n","\nabstract class BaseProp {\n\n    _type: string\n    public get type() { return this._type }\n\n    public abstract setValue(value: any): void\n    public abstract getValue(): any\n\n    constructor(type: string) {\n        this._type = type\n    }\n}\n\nexport default BaseProp\n","\nimport BaseProp from './BaseProp'\n\nclass StringProp extends BaseProp {\n\n    _value?: string\n    public get value() { return this._value }\n    public setValue(v: any) { this._value = v}\n    public getValue() { return this._value}\n\n    _defaultValue: string\n    public get defaultValue() { return this._defaultValue }\n\n    constructor(defaultValue: string) {\n        super('string')\n        this._value = defaultValue\n        this._defaultValue = defaultValue\n    }\n}\n\nexport default StringProp\n","\nimport BaseProp from './BaseProp'\n\nclass FuncProp extends BaseProp {\n\n    _value?: () => void\n    public get value() { return this._value }\n    public setValue(v: any) { this._value = v}\n    public getValue() { return this._value}\n\n    _defaultValue?: () => void\n    public get defaultValue() { return this._defaultValue }\n\n    constructor(defaultValue?: () => void) {\n        super('function')\n        this._value = defaultValue\n        this._defaultValue = defaultValue\n    }\n}\n\nexport default FuncProp\n","\nimport BaseControl from './BaseControl';\nimport StringProp from '../props/StringProp'\nimport Utils from '../utils';\nimport BaseElement from '../elements/BaseElement';\nimport FuncProp from '../props/FuncProp';\n\nclass ButtonControl extends BaseControl {\n\n    public static readonly TYPE = 'button'\n    public static defaultProps = {\n        caption: new StringProp(''),\n        variant: new StringProp('filled'),\n        onClick: new FuncProp(undefined)\n    }\n    public static defaultStyles = {\n        width: 150,\n        height: 'auto'\n    }\n\n    static instantiate(overridenProps: { [id: string]: any }, overridenStyles: { [id: string]: any }, children: Array<BaseElement>) {\n        return Utils.generator.prepareElement(ButtonControl.TYPE, this.defaultProps, overridenProps, this.defaultStyles, overridenStyles, children)\n    }\n}\n\nexport default ButtonControl\n","\nimport BaseControl from './BaseControl';\nimport Utils from '../utils';\nimport BaseElement from '../elements/BaseElement';\n\nclass CardControl extends BaseControl {\n\n    public static readonly TYPE = 'card'\n    public static defaultProps = {\n        \n    }\n    public static defaultStyles = {\n        width: 200,\n        height: 200,\n        boxShadow: 'rgba(0, 0, 0, 0.24) 0px 3px 8px',\n        backgroundColor: '#fff',\n        borderRadius: 4\n    }\n\n    public static instantiate(overridenProps: { [id: string]: any }, overridenStyles: { [id: string]: any }, children: Array<BaseElement>) {\n        return Utils.generator.prepareElement(CardControl.TYPE, this.defaultProps, overridenProps, this.defaultStyles, overridenStyles, children)\n    }\n}\n\nexport default CardControl\n","\nimport BaseControl from './BaseControl';\nimport Utils from '../utils';\nimport BaseElement from '../elements/BaseElement';\nimport FuncProp from '../props/FuncProp';\n\nclass TabsControl extends BaseControl {\n\n    public static readonly TYPE = 'tabs'\n    public static defaultProps = {\n        onChange: new FuncProp(undefined)\n    }\n    public static defaultStyles = {\n        \n    }\n\n    public static instantiate(overridenProps: { [id: string]: any }, overridenStyles: { [id: string]: any }, children: Array<BaseElement>) {\n        return Utils.generator.prepareElement(TabsControl.TYPE, this.defaultProps, overridenProps, this.defaultStyles, overridenStyles, children)\n    }\n}\n\nexport default TabsControl\n","\nimport BaseControl from './BaseControl';\nimport Utils from '../utils';\nimport BaseElement from '../elements/BaseElement';\n\nclass PrimaryTabControl extends BaseControl {\n\n    public static readonly TYPE = 'primary-tab'\n    public static defaultProps = {\n        \n    }\n    public static defaultStyles = {\n        \n    }\n\n    public static instantiate(overridenProps: { [id: string]: any }, overridenStyles: { [id: string]: any }, children: Array<BaseElement>) {\n        return Utils.generator.prepareElement(PrimaryTabControl.TYPE, this.defaultProps, overridenProps, this.defaultStyles, overridenStyles, children)\n    }\n}\n\nexport default PrimaryTabControl\n","\nimport BaseControl from './BaseControl';\nimport StringProp from '../props/StringProp'\nimport Utils from '../utils';\nimport BaseElement from '../elements/BaseElement';\n\nclass TextControl extends BaseControl {\n\n    public static readonly TYPE = 'text'\n    public static defaultProps = {\n        text: new StringProp('')\n    }\n    public static defaultStyles = {\n        width: 150,\n        height: 'auto'\n    }\n\n    public static instantiate(overridenProps: { [id: string]: any }, overridenStyles: { [id: string]: any }, children: Array<BaseElement>) {\n        return Utils.generator.prepareElement(TextControl.TYPE, this.defaultProps, overridenProps, this.defaultStyles, overridenStyles, children)\n    }\n}\n\nexport default TextControl\n","\nimport BaseControl from './BaseControl';\nimport Utils from '../utils';\nimport BaseElement from '../elements/BaseElement';\n\nclass HtmlControl extends BaseControl {\n\n    public static readonly TYPE = 'html'\n    public static defaultProps = {\n        \n    }\n    public static defaultStyles = {\n        \n    }\n\n    public static instantiate(overridenProps: { [id: string]: any }, overridenStyles: { [id: string]: any }, children: Array<BaseElement>) {\n        return Utils.generator.prepareElement(HtmlControl.TYPE, this.defaultProps, overridenProps, this.defaultStyles, overridenStyles, children)\n    }\n}\n\nexport default HtmlControl\n","\nimport BaseControl from './BaseControl';\nimport Utils from '../utils';\nimport BaseElement from '../elements/BaseElement';\n\nclass BodyControl extends BaseControl {\n\n    public static readonly TYPE = 'body'\n    public static defaultProps = {\n        \n    }\n    public static defaultStyles = {\n        \n    }\n\n    public static instantiate(overridenProps: { [id: string]: any }, overridenStyles: { [id: string]: any }, children: Array<BaseElement>) {\n        return Utils.generator.prepareElement(BodyControl.TYPE, this.defaultProps, overridenProps, this.defaultStyles, overridenStyles, children)\n    }\n}\n\nexport default BodyControl\n","\nimport BaseControl from './BaseControl';\nimport Utils from '../utils';\nimport BaseElement from '../elements/BaseElement';\n\nclass ScriptControl extends BaseControl {\n\n    public static readonly TYPE = 'script'\n    public static defaultProps = {\n        \n    }\n    public static defaultStyles = {\n        \n    }\n\n    public static instantiate(overridenProps: { [id: string]: any }, overridenStyles: { [id: string]: any }, children: Array<BaseElement>) {\n        return Utils.generator.prepareElement(ScriptControl.TYPE, this.defaultProps, overridenProps, this.defaultStyles, overridenStyles, children)\n    }\n}\n\nexport default ScriptControl\n","\nimport BoxControl from \"./BoxControl\"\nimport ButtonControl from \"./ButtonControl\"\nimport CardControl from \"./CardControl\"\nimport TabsControl from \"./TabsControl\"\nimport PrimaryTabControl from \"./PrimaryTabControl\"\nimport TextControl from \"./TextControl\"\nimport HtmlControl from \"./HtmlControl\"\nimport BodyControl from \"./BodyControl\"\nimport ScriptControl from \"./ScriptControl\"\n\nexport default {\n    [TextControl.TYPE]: TextControl,\n    [ButtonControl.TYPE]: ButtonControl,\n    [BoxControl.TYPE]: BoxControl,\n    [CardControl.TYPE]: CardControl,\n    [TabsControl.TYPE]: TabsControl,\n    [PrimaryTabControl.TYPE]: PrimaryTabControl,\n    [HtmlControl.TYPE]: HtmlControl,\n    [BodyControl.TYPE]: BodyControl,\n    [ScriptControl.TYPE]: ScriptControl\n}\n","\nimport Module from \"./Module\"\n\nclass INative {\n    \n    public _module: Module\n    public get key() { return this._module.key }\n\n    constructor(module: Module) {\n        this._module = module\n    }\n}\n\nexport default INative\n","import INative from \"./widget/INative\"\n\nclass Native extends INative {\n\n    globalMemory = {}\n    intervals = {}\n    timeouts = {}\n    controls = {}\n    module = undefined\n\n    nativeElement = (compType, props, styles, children) => {\n        let control = this.controls[compType]\n        let c = control.instantiate(props, styles, children)\n        return c\n    }\n    Object = {\n        keys: (obj) => {\n            return Object.keys(obj)\n        },\n        values: (obj) => {\n            return Object.values(obj)\n        }\n    }\n    alert = (str) => {\n        window.alert(str)\n    }\n    console = {\n        log: (...strs) => {\n            console.log(...strs)\n        }\n    }\n    setInterval = (callback, period) => {\n        this.intervals[setInterval(callback, period) + ''] = true\n    }\n    setTimeout = (callback, timeout) => {\n        this.timeouts[setTimeout(callback, timeout) + ''] = true\n    }\n\n    constructor(module, controls) {\n        super(module)\n        this.module = module\n        this.controls = controls\n    }\n}\n\nexport default Native","\nimport Module from './widget/Module'\nimport Applet, { Runnable } from './widget/Applet'\nimport Utils from './widget/utils'\nimport Controls from './widget/controls'\nimport INative from './widget/INative'\nimport Native from './native'\n\nlet applet = new Applet('frame')\napplet.fill(`\nclass html {\n    constructor() {\n\n    }\n    onMount() {\n\n    }\n    render() {\n        return nativeElement('html', this.props, this.styles, this.children)\n    }\n}\nclass body {\n    constructor() {\n\n    }\n    onMount() {\n\n    }\n    render() {\n        return nativeElement('body', this.props, this.styles, this.children)\n    }\n}\nclass script {\n    constructor() {\n\n    }\n    onMount() {\n\n    }\n    render() {\n        return nativeElement('script', this.props, this.styles, this.children)\n    }\n}\n`)\napplet.fill(`\n    <script>\n        import hello from 'test'\n        console.log(hello)\n    </script>\n`)\napplet.setContextBuilder((mod: Module) => new Native(mod, Controls))\napplet.runRaw((key: string, u: any) => { }).then((runnable: Runnable) => {\n    console.log(Utils.json.prettify(runnable.root))\n    runnable.mount()\n})\n\nexport {\n    Applet,\n    Runnable,\n    Module,\n    Utils,\n    Controls,\n    INative\n}\n"],"mappings":"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","names":["module","Parser","Parser","isUnitlessNumber","isUnitlessNumber","applet","module","module","applet","module","updates","keys","module","module"]}