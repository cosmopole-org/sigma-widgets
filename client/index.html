<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="engine/bundle.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <script src="./ui-builder/index.js"></script>
    <script src="./bundle.js"></script>
    <script src="lab.js" type="module"></script>
</head>

<body style="margin: 0px auto; padding: 0px">

    <div id="root" style="width: 100%; height: 100vh;">

    </div>

</body>

<script>

    let root = document.getElementById('root')

    let { Applet, Native, Utils } = window.engine

    let uiDriver = new UIDriver(Utils.compiler.styleToCssString)

    let applet = new Applet('frame')
    applet.fill(
        { "type": "Program", "start": 0, "end": 3941, "body": [{ "type": "ClassDeclaration", "start": 5, "end": 1554, "id": { "type": "Identifier", "start": 11, "end": 15, "name": "Food" }, "superClass": null, "body": { "type": "ClassBody", "start": 16, "end": 1554, "body": [{ "type": "MethodDefinition", "start": 26, "end": 222, "static": false, "computed": false, "key": { "type": "Identifier", "start": 26, "end": 37, "name": "constructor" }, "kind": "constructor", "value": { "type": "FunctionExpression", "start": 37, "end": 222, "id": null, "expression": false, "generator": false, "async": false, "params": [], "body": { "type": "BlockStatement", "start": 40, "end": 222, "body": [{ "type": "ExpressionStatement", "start": 54, "end": 126, "expression": { "type": "CallExpression", "start": 54, "end": 126, "callee": { "type": "MemberExpression", "start": 54, "end": 65, "object": { "type": "Identifier", "start": 54, "end": 61, "name": "console" }, "property": { "type": "Identifier", "start": 62, "end": 65, "name": "log" }, "computed": false, "optional": false }, "arguments": [{ "type": "Literal", "start": 66, "end": 108, "value": "hello...................................", "raw": "'hello...................................'" }, { "type": "MemberExpression", "start": 110, "end": 125, "object": { "type": "MemberExpression", "start": 110, "end": 120, "object": { "type": "ThisExpression", "start": 110, "end": 114 }, "property": { "type": "Identifier", "start": 115, "end": 120, "name": "props" }, "computed": false, "optional": false }, "property": { "type": "Identifier", "start": 121, "end": 125, "name": "food" }, "computed": false, "optional": false }], "optional": false } }, { "type": "ExpressionStatement", "start": 139, "end": 212, "expression": { "type": "AssignmentExpression", "start": 139, "end": 212, "operator": "=", "left": { "type": "MemberExpression", "start": 139, "end": 149, "object": { "type": "ThisExpression", "start": 139, "end": 143 }, "property": { "type": "Identifier", "start": 144, "end": 149, "name": "state" }, "computed": false, "optional": false }, "right": { "type": "ObjectExpression", "start": 152, "end": 212, "properties": [{ "type": "Property", "start": 170, "end": 198, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 170, "end": 175, "name": "count" }, "value": { "type": "MemberExpression", "start": 177, "end": 198, "object": { "type": "MemberExpression", "start": 177, "end": 192, "object": { "type": "MemberExpression", "start": 177, "end": 187, "object": { "type": "ThisExpression", "start": 177, "end": 181 }, "property": { "type": "Identifier", "start": 182, "end": 187, "name": "props" }, "computed": false, "optional": false }, "property": { "type": "Identifier", "start": 188, "end": 192, "name": "food" }, "computed": false, "optional": false }, "property": { "type": "Identifier", "start": 193, "end": 198, "name": "count" }, "computed": false, "optional": false }, "kind": "init" }] } } }] } } }, { "type": "MethodDefinition", "start": 231, "end": 257, "static": false, "computed": false, "key": { "type": "Identifier", "start": 231, "end": 238, "name": "onMount" }, "kind": "method", "value": { "type": "FunctionExpression", "start": 238, "end": 257, "id": null, "expression": false, "generator": false, "async": false, "params": [], "body": { "type": "BlockStatement", "start": 241, "end": 257, "body": [] } } }, { "type": "MethodDefinition", "start": 266, "end": 1548, "static": false, "computed": false, "key": { "type": "Identifier", "start": 266, "end": 272, "name": "render" }, "kind": "method", "value": { "type": "FunctionExpression", "start": 272, "end": 1548, "id": null, "expression": false, "generator": false, "async": false, "params": [], "body": { "type": "BlockStatement", "start": 275, "end": 1548, "body": [{ "type": "ReturnStatement", "start": 289, "end": 1538, "argument": { "type": "JSXElement", "start": 314, "end": 1524, "openingElement": { "type": "JSXOpeningElement", "start": 314, "end": 367, "attributes": [{ "type": "JSXAttribute", "start": 320, "end": 366, "name": { "type": "JSXIdentifier", "start": 320, "end": 325, "name": "style" }, "value": { "type": "JSXExpressionContainer", "start": 326, "end": 366, "expression": { "type": "ObjectExpression", "start": 327, "end": 365, "properties": [{ "type": "Property", "start": 329, "end": 338, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 329, "end": 335, "name": "margin" }, "value": { "type": "Literal", "start": 337, "end": 338, "value": 8, "raw": "8" }, "kind": "init" }, { "type": "Property", "start": 340, "end": 350, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 340, "end": 345, "name": "width" }, "value": { "type": "Literal", "start": 347, "end": 350, "value": 100, "raw": "100" }, "kind": "init" }, { "type": "Property", "start": 352, "end": 363, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 352, "end": 358, "name": "height" }, "value": { "type": "Literal", "start": 360, "end": 363, "value": 100, "raw": "100" }, "kind": "init" }] } } }], "name": { "type": "JSXIdentifier", "start": 315, "end": 319, "name": "card" }, "selfClosing": false }, "closingElement": { "type": "JSXClosingElement", "start": 1517, "end": 1524, "name": { "type": "JSXIdentifier", "start": 1519, "end": 1523, "name": "card" } }, "children": [{ "type": "JSXText", "start": 367, "end": 388, "value": "\n                    ", "raw": "\n                    " }, { "type": "JSXElement", "start": 388, "end": 574, "openingElement": { "type": "JSXOpeningElement", "start": 388, "end": 574, "attributes": [{ "type": "JSXAttribute", "start": 394, "end": 419, "name": { "type": "JSXIdentifier", "start": 394, "end": 398, "name": "text" }, "value": { "type": "JSXExpressionContainer", "start": 399, "end": 419, "expression": { "type": "MemberExpression", "start": 400, "end": 418, "object": { "type": "MemberExpression", "start": 400, "end": 415, "object": { "type": "MemberExpression", "start": 400, "end": 410, "object": { "type": "ThisExpression", "start": 400, "end": 404 }, "property": { "type": "Identifier", "start": 405, "end": 410, "name": "props" }, "computed": false, "optional": false }, "property": { "type": "Identifier", "start": 411, "end": 415, "name": "food" }, "computed": false, "optional": false }, "property": { "type": "Identifier", "start": 416, "end": 418, "name": "id" }, "computed": false, "optional": false } } }, { "type": "JSXAttribute", "start": 420, "end": 571, "name": { "type": "JSXIdentifier", "start": 420, "end": 425, "name": "style" }, "value": { "type": "JSXExpressionContainer", "start": 426, "end": 571, "expression": { "type": "ObjectExpression", "start": 427, "end": 570, "properties": [{ "type": "Property", "start": 429, "end": 442, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 429, "end": 434, "name": "width" }, "value": { "type": "Literal", "start": 436, "end": 442, "value": "100%", "raw": "'100%'" }, "kind": "init" }, { "type": "Property", "start": 444, "end": 457, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 444, "end": 450, "name": "height" }, "value": { "type": "Literal", "start": 452, "end": 457, "value": "50%", "raw": "'50%'" }, "kind": "init" }, { "type": "Property", "start": 459, "end": 474, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 459, "end": 466, "name": "display" }, "value": { "type": "Literal", "start": 468, "end": 474, "value": "flex", "raw": "'flex'" }, "kind": "init" }, { "type": "Property", "start": 476, "end": 499, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 476, "end": 489, "name": "verticalAlign" }, "value": { "type": "Literal", "start": 491, "end": 499, "value": "middle", "raw": "'middle'" }, "kind": "init" }, { "type": "Property", "start": 501, "end": 520, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 501, "end": 510, "name": "textAlign" }, "value": { "type": "Literal", "start": 512, "end": 520, "value": "center", "raw": "'center'" }, "kind": "init" }, { "type": "Property", "start": 522, "end": 542, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 522, "end": 532, "name": "alignItems" }, "value": { "type": "Literal", "start": 534, "end": 542, "value": "center", "raw": "'center'" }, "kind": "init" }, { "type": "Property", "start": 544, "end": 568, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 544, "end": 558, "name": "justifyContent" }, "value": { "type": "Literal", "start": 560, "end": 568, "value": "center", "raw": "'center'" }, "kind": "init" }] } } }], "name": { "type": "JSXIdentifier", "start": 389, "end": 393, "name": "text" }, "selfClosing": true }, "closingElement": null, "children": [] }, { "type": "JSXText", "start": 574, "end": 595, "value": "\n                    ", "raw": "\n                    " }, { "type": "JSXElement", "start": 595, "end": 779, "openingElement": { "type": "JSXOpeningElement", "start": 595, "end": 779, "attributes": [{ "type": "JSXAttribute", "start": 601, "end": 624, "name": { "type": "JSXIdentifier", "start": 601, "end": 605, "name": "text" }, "value": { "type": "JSXExpressionContainer", "start": 606, "end": 624, "expression": { "type": "MemberExpression", "start": 607, "end": 623, "object": { "type": "MemberExpression", "start": 607, "end": 617, "object": { "type": "ThisExpression", "start": 607, "end": 611 }, "property": { "type": "Identifier", "start": 612, "end": 617, "name": "state" }, "computed": false, "optional": false }, "property": { "type": "Identifier", "start": 618, "end": 623, "name": "count" }, "computed": false, "optional": false } } }, { "type": "JSXAttribute", "start": 625, "end": 776, "name": { "type": "JSXIdentifier", "start": 625, "end": 630, "name": "style" }, "value": { "type": "JSXExpressionContainer", "start": 631, "end": 776, "expression": { "type": "ObjectExpression", "start": 632, "end": 775, "properties": [{ "type": "Property", "start": 634, "end": 647, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 634, "end": 639, "name": "width" }, "value": { "type": "Literal", "start": 641, "end": 647, "value": "100%", "raw": "'100%'" }, "kind": "init" }, { "type": "Property", "start": 649, "end": 662, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 649, "end": 655, "name": "height" }, "value": { "type": "Literal", "start": 657, "end": 662, "value": "50%", "raw": "'50%'" }, "kind": "init" }, { "type": "Property", "start": 664, "end": 679, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 664, "end": 671, "name": "display" }, "value": { "type": "Literal", "start": 673, "end": 679, "value": "flex", "raw": "'flex'" }, "kind": "init" }, { "type": "Property", "start": 681, "end": 704, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 681, "end": 694, "name": "verticalAlign" }, "value": { "type": "Literal", "start": 696, "end": 704, "value": "middle", "raw": "'middle'" }, "kind": "init" }, { "type": "Property", "start": 706, "end": 725, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 706, "end": 715, "name": "textAlign" }, "value": { "type": "Literal", "start": 717, "end": 725, "value": "center", "raw": "'center'" }, "kind": "init" }, { "type": "Property", "start": 727, "end": 747, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 727, "end": 737, "name": "alignItems" }, "value": { "type": "Literal", "start": 739, "end": 747, "value": "center", "raw": "'center'" }, "kind": "init" }, { "type": "Property", "start": 749, "end": 773, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 749, "end": 763, "name": "justifyContent" }, "value": { "type": "Literal", "start": 765, "end": 773, "value": "center", "raw": "'center'" }, "kind": "init" }] } } }], "name": { "type": "JSXIdentifier", "start": 596, "end": 600, "name": "text" }, "selfClosing": true }, "closingElement": null, "children": [] }, { "type": "JSXText", "start": 779, "end": 800, "value": "\n                    ", "raw": "\n                    " }, { "type": "JSXElement", "start": 800, "end": 1500, "openingElement": { "type": "JSXOpeningElement", "start": 800, "end": 929, "attributes": [{ "type": "JSXAttribute", "start": 805, "end": 928, "name": { "type": "JSXIdentifier", "start": 805, "end": 810, "name": "style" }, "value": { "type": "JSXExpressionContainer", "start": 811, "end": 928, "expression": { "type": "ObjectExpression", "start": 812, "end": 927, "properties": [{ "type": "Property", "start": 814, "end": 827, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 814, "end": 819, "name": "width" }, "value": { "type": "Literal", "start": 821, "end": 827, "value": "100%", "raw": "'100%'" }, "kind": "init" }, { "type": "Property", "start": 829, "end": 839, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 829, "end": 835, "name": "height" }, "value": { "type": "Literal", "start": 837, "end": 839, "value": 32, "raw": "32" }, "kind": "init" }, { "type": "Property", "start": 841, "end": 861, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 841, "end": 851, "name": "alignItems" }, "value": { "type": "Literal", "start": 853, "end": 861, "value": "center", "raw": "'center'" }, "kind": "init" }, { "type": "Property", "start": 863, "end": 887, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 863, "end": 877, "name": "justifyContent" }, "value": { "type": "Literal", "start": 879, "end": 887, "value": "center", "raw": "'center'" }, "kind": "init" }, { "type": "Property", "start": 889, "end": 908, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 889, "end": 898, "name": "textAlign" }, "value": { "type": "Literal", "start": 900, "end": 908, "value": "center", "raw": "'center'" }, "kind": "init" }, { "type": "Property", "start": 910, "end": 925, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 910, "end": 917, "name": "display" }, "value": { "type": "Literal", "start": 919, "end": 925, "value": "flex", "raw": "'flex'" }, "kind": "init" }] } } }], "name": { "type": "JSXIdentifier", "start": 801, "end": 804, "name": "box" }, "selfClosing": false }, "closingElement": { "type": "JSXClosingElement", "start": 1494, "end": 1500, "name": { "type": "JSXIdentifier", "start": 1496, "end": 1499, "name": "box" } }, "children": [{ "type": "JSXText", "start": 929, "end": 954, "value": "\n                        ", "raw": "\n                        " }, { "type": "JSXElement", "start": 954, "end": 1201, "openingElement": { "type": "JSXOpeningElement", "start": 954, "end": 1201, "attributes": [{ "type": "JSXAttribute", "start": 962, "end": 995, "name": { "type": "JSXIdentifier", "start": 962, "end": 967, "name": "style" }, "value": { "type": "JSXExpressionContainer", "start": 968, "end": 995, "expression": { "type": "ObjectExpression", "start": 969, "end": 994, "properties": [{ "type": "Property", "start": 971, "end": 980, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 971, "end": 976, "name": "width" }, "value": { "type": "Literal", "start": 978, "end": 980, "value": 32, "raw": "32" }, "kind": "init" }, { "type": "Property", "start": 982, "end": 992, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 982, "end": 988, "name": "height" }, "value": { "type": "Literal", "start": 990, "end": 992, "value": 32, "raw": "32" }, "kind": "init" }] } } }, { "type": "JSXAttribute", "start": 996, "end": 1007, "name": { "type": "JSXIdentifier", "start": 996, "end": 1003, "name": "caption" }, "value": { "type": "Literal", "start": 1004, "end": 1007, "value": "-", "raw": "'-'" } }, { "type": "JSXAttribute", "start": 1008, "end": 1198, "name": { "type": "JSXIdentifier", "start": 1008, "end": 1015, "name": "onClick" }, "value": { "type": "JSXExpressionContainer", "start": 1016, "end": 1198, "expression": { "type": "ArrowFunctionExpression", "start": 1017, "end": 1197, "id": null, "expression": false, "generator": false, "async": false, "params": [], "body": { "type": "BlockStatement", "start": 1023, "end": 1197, "body": [{ "type": "ExpressionStatement", "start": 1053, "end": 1096, "expression": { "type": "CallExpression", "start": 1053, "end": 1096, "callee": { "type": "MemberExpression", "start": 1053, "end": 1074, "object": { "type": "MemberExpression", "start": 1053, "end": 1063, "object": { "type": "ThisExpression", "start": 1053, "end": 1057 }, "property": { "type": "Identifier", "start": 1058, "end": 1063, "name": "props" }, "computed": false, "optional": false }, "property": { "type": "Identifier", "start": 1064, "end": 1074, "name": "updateMenu" }, "computed": false, "optional": false }, "arguments": [{ "type": "BinaryExpression", "start": 1075, "end": 1095, "left": { "type": "MemberExpression", "start": 1075, "end": 1091, "object": { "type": "MemberExpression", "start": 1075, "end": 1085, "object": { "type": "ThisExpression", "start": 1075, "end": 1079 }, "property": { "type": "Identifier", "start": 1080, "end": 1085, "name": "state" }, "computed": false, "optional": false }, "property": { "type": "Identifier", "start": 1086, "end": 1091, "name": "count" }, "computed": false, "optional": false }, "operator": "-", "right": { "type": "Literal", "start": 1094, "end": 1095, "value": 1, "raw": "1" } }], "optional": false } }, { "type": "ExpressionStatement", "start": 1125, "end": 1171, "expression": { "type": "CallExpression", "start": 1125, "end": 1171, "callee": { "type": "MemberExpression", "start": 1125, "end": 1138, "object": { "type": "ThisExpression", "start": 1125, "end": 1129 }, "property": { "type": "Identifier", "start": 1130, "end": 1138, "name": "setState" }, "computed": false, "optional": false }, "arguments": [{ "type": "ObjectExpression", "start": 1139, "end": 1170, "properties": [{ "type": "Property", "start": 1141, "end": 1168, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 1141, "end": 1146, "name": "count" }, "value": { "type": "BinaryExpression", "start": 1148, "end": 1168, "left": { "type": "MemberExpression", "start": 1148, "end": 1164, "object": { "type": "MemberExpression", "start": 1148, "end": 1158, "object": { "type": "ThisExpression", "start": 1148, "end": 1152 }, "property": { "type": "Identifier", "start": 1153, "end": 1158, "name": "state" }, "computed": false, "optional": false }, "property": { "type": "Identifier", "start": 1159, "end": 1164, "name": "count" }, "computed": false, "optional": false }, "operator": "-", "right": { "type": "Literal", "start": 1167, "end": 1168, "value": 1, "raw": "1" } }, "kind": "init" }] }], "optional": false } }] } } } }], "name": { "type": "JSXIdentifier", "start": 955, "end": 961, "name": "button" }, "selfClosing": true }, "closingElement": null, "children": [] }, { "type": "JSXText", "start": 1201, "end": 1226, "value": "\n                        ", "raw": "\n                        " }, { "type": "JSXElement", "start": 1226, "end": 1473, "openingElement": { "type": "JSXOpeningElement", "start": 1226, "end": 1473, "attributes": [{ "type": "JSXAttribute", "start": 1234, "end": 1267, "name": { "type": "JSXIdentifier", "start": 1234, "end": 1239, "name": "style" }, "value": { "type": "JSXExpressionContainer", "start": 1240, "end": 1267, "expression": { "type": "ObjectExpression", "start": 1241, "end": 1266, "properties": [{ "type": "Property", "start": 1243, "end": 1252, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 1243, "end": 1248, "name": "width" }, "value": { "type": "Literal", "start": 1250, "end": 1252, "value": 32, "raw": "32" }, "kind": "init" }, { "type": "Property", "start": 1254, "end": 1264, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 1254, "end": 1260, "name": "height" }, "value": { "type": "Literal", "start": 1262, "end": 1264, "value": 32, "raw": "32" }, "kind": "init" }] } } }, { "type": "JSXAttribute", "start": 1268, "end": 1279, "name": { "type": "JSXIdentifier", "start": 1268, "end": 1275, "name": "caption" }, "value": { "type": "Literal", "start": 1276, "end": 1279, "value": "+", "raw": "'+'" } }, { "type": "JSXAttribute", "start": 1280, "end": 1470, "name": { "type": "JSXIdentifier", "start": 1280, "end": 1287, "name": "onClick" }, "value": { "type": "JSXExpressionContainer", "start": 1288, "end": 1470, "expression": { "type": "ArrowFunctionExpression", "start": 1289, "end": 1469, "id": null, "expression": false, "generator": false, "async": false, "params": [], "body": { "type": "BlockStatement", "start": 1295, "end": 1469, "body": [{ "type": "ExpressionStatement", "start": 1325, "end": 1368, "expression": { "type": "CallExpression", "start": 1325, "end": 1368, "callee": { "type": "MemberExpression", "start": 1325, "end": 1346, "object": { "type": "MemberExpression", "start": 1325, "end": 1335, "object": { "type": "ThisExpression", "start": 1325, "end": 1329 }, "property": { "type": "Identifier", "start": 1330, "end": 1335, "name": "props" }, "computed": false, "optional": false }, "property": { "type": "Identifier", "start": 1336, "end": 1346, "name": "updateMenu" }, "computed": false, "optional": false }, "arguments": [{ "type": "BinaryExpression", "start": 1347, "end": 1367, "left": { "type": "MemberExpression", "start": 1347, "end": 1363, "object": { "type": "MemberExpression", "start": 1347, "end": 1357, "object": { "type": "ThisExpression", "start": 1347, "end": 1351 }, "property": { "type": "Identifier", "start": 1352, "end": 1357, "name": "state" }, "computed": false, "optional": false }, "property": { "type": "Identifier", "start": 1358, "end": 1363, "name": "count" }, "computed": false, "optional": false }, "operator": "+", "right": { "type": "Literal", "start": 1366, "end": 1367, "value": 1, "raw": "1" } }], "optional": false } }, { "type": "ExpressionStatement", "start": 1397, "end": 1443, "expression": { "type": "CallExpression", "start": 1397, "end": 1443, "callee": { "type": "MemberExpression", "start": 1397, "end": 1410, "object": { "type": "ThisExpression", "start": 1397, "end": 1401 }, "property": { "type": "Identifier", "start": 1402, "end": 1410, "name": "setState" }, "computed": false, "optional": false }, "arguments": [{ "type": "ObjectExpression", "start": 1411, "end": 1442, "properties": [{ "type": "Property", "start": 1413, "end": 1440, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 1413, "end": 1418, "name": "count" }, "value": { "type": "BinaryExpression", "start": 1420, "end": 1440, "left": { "type": "MemberExpression", "start": 1420, "end": 1436, "object": { "type": "MemberExpression", "start": 1420, "end": 1430, "object": { "type": "ThisExpression", "start": 1420, "end": 1424 }, "property": { "type": "Identifier", "start": 1425, "end": 1430, "name": "state" }, "computed": false, "optional": false }, "property": { "type": "Identifier", "start": 1431, "end": 1436, "name": "count" }, "computed": false, "optional": false }, "operator": "+", "right": { "type": "Literal", "start": 1439, "end": 1440, "value": 1, "raw": "1" } }, "kind": "init" }] }], "optional": false } }] } } } }], "name": { "type": "JSXIdentifier", "start": 1227, "end": 1233, "name": "button" }, "selfClosing": true }, "closingElement": null, "children": [] }, { "type": "JSXText", "start": 1473, "end": 1494, "value": "\n                    ", "raw": "\n                    " }] }, { "type": "JSXText", "start": 1500, "end": 1517, "value": "\n                ", "raw": "\n                " }] } }] } } }] } }, { "type": "ClassDeclaration", "start": 1559, "end": 3936, "id": { "type": "Identifier", "start": 1565, "end": 1571, "name": "Button" }, "superClass": null, "body": { "type": "ClassBody", "start": 1572, "end": 3936, "body": [{ "type": "MethodDefinition", "start": 1582, "end": 2522, "static": false, "computed": false, "key": { "type": "Identifier", "start": 1582, "end": 1593, "name": "constructor" }, "kind": "constructor", "value": { "type": "FunctionExpression", "start": 1593, "end": 2522, "id": null, "expression": false, "generator": false, "async": false, "params": [], "body": { "type": "BlockStatement", "start": 1596, "end": 2522, "body": [{ "type": "ExpressionStatement", "start": 1610, "end": 2512, "expression": { "type": "AssignmentExpression", "start": 1610, "end": 2512, "operator": "=", "left": { "type": "MemberExpression", "start": 1610, "end": 1620, "object": { "type": "ThisExpression", "start": 1610, "end": 1614 }, "property": { "type": "Identifier", "start": 1615, "end": 1620, "name": "state" }, "computed": false, "optional": false }, "right": { "type": "ObjectExpression", "start": 1623, "end": 2512, "properties": [{ "type": "Property", "start": 1641, "end": 1666, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 1641, "end": 1657, "name": "selectedCategory" }, "value": { "type": "Literal", "start": 1659, "end": 1666, "value": "pizza", "raw": "'pizza'" }, "kind": "init" }, { "type": "Property", "start": 1684, "end": 2498, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 1684, "end": 1688, "name": "menu" }, "value": { "type": "ObjectExpression", "start": 1690, "end": 2498, "properties": [{ "type": "Property", "start": 1712, "end": 2085, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 1712, "end": 1717, "name": "pizza" }, "value": { "type": "ArrayExpression", "start": 1719, "end": 2085, "elements": [{ "type": "ObjectExpression", "start": 1745, "end": 1891, "properties": [{ "type": "Property", "start": 1775, "end": 1788, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 1775, "end": 1777, "name": "id" }, "value": { "type": "Literal", "start": 1779, "end": 1788, "value": "pizza 1", "raw": "'pizza 1'" }, "kind": "init" }, { "type": "Property", "start": 1818, "end": 1826, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 1818, "end": 1823, "name": "count" }, "value": { "type": "Literal", "start": 1825, "end": 1826, "value": 0, "raw": "0" }, "kind": "init" }, { "type": "Property", "start": 1856, "end": 1865, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 1856, "end": 1861, "name": "price" }, "value": { "type": "Literal", "start": 1863, "end": 1865, "value": 10, "raw": "10" }, "kind": "init" }] }, { "type": "ObjectExpression", "start": 1917, "end": 2063, "properties": [{ "type": "Property", "start": 1947, "end": 1960, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 1947, "end": 1949, "name": "id" }, "value": { "type": "Literal", "start": 1951, "end": 1960, "value": "pizza 2", "raw": "'pizza 2'" }, "kind": "init" }, { "type": "Property", "start": 1990, "end": 1998, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 1990, "end": 1995, "name": "count" }, "value": { "type": "Literal", "start": 1997, "end": 1998, "value": 0, "raw": "0" }, "kind": "init" }, { "type": "Property", "start": 2028, "end": 2037, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 2028, "end": 2033, "name": "price" }, "value": { "type": "Literal", "start": 2035, "end": 2037, "value": 25, "raw": "25" }, "kind": "init" }] }] }, "kind": "init" }, { "type": "Property", "start": 2107, "end": 2480, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 2107, "end": 2112, "name": "pasta" }, "value": { "type": "ArrayExpression", "start": 2114, "end": 2480, "elements": [{ "type": "ObjectExpression", "start": 2140, "end": 2286, "properties": [{ "type": "Property", "start": 2170, "end": 2183, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 2170, "end": 2172, "name": "id" }, "value": { "type": "Literal", "start": 2174, "end": 2183, "value": "pasta 1", "raw": "'pasta 1'" }, "kind": "init" }, { "type": "Property", "start": 2213, "end": 2221, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 2213, "end": 2218, "name": "count" }, "value": { "type": "Literal", "start": 2220, "end": 2221, "value": 0, "raw": "0" }, "kind": "init" }, { "type": "Property", "start": 2251, "end": 2260, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 2251, "end": 2256, "name": "price" }, "value": { "type": "Literal", "start": 2258, "end": 2260, "value": 20, "raw": "20" }, "kind": "init" }] }, { "type": "ObjectExpression", "start": 2312, "end": 2458, "properties": [{ "type": "Property", "start": 2342, "end": 2355, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 2342, "end": 2344, "name": "id" }, "value": { "type": "Literal", "start": 2346, "end": 2355, "value": "pasta 2", "raw": "'pasta 2'" }, "kind": "init" }, { "type": "Property", "start": 2385, "end": 2393, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 2385, "end": 2390, "name": "count" }, "value": { "type": "Literal", "start": 2392, "end": 2393, "value": 0, "raw": "0" }, "kind": "init" }, { "type": "Property", "start": 2423, "end": 2432, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 2423, "end": 2428, "name": "price" }, "value": { "type": "Literal", "start": 2430, "end": 2432, "value": 35, "raw": "35" }, "kind": "init" }] }] }, "kind": "init" }] }, "kind": "init" }] } } }] } } }, { "type": "MethodDefinition", "start": 2531, "end": 2557, "static": false, "computed": false, "key": { "type": "Identifier", "start": 2531, "end": 2538, "name": "onMount" }, "kind": "method", "value": { "type": "FunctionExpression", "start": 2538, "end": 2557, "id": null, "expression": false, "generator": false, "async": false, "params": [], "body": { "type": "BlockStatement", "start": 2541, "end": 2557, "body": [] } } }, { "type": "MethodDefinition", "start": 2566, "end": 3930, "static": false, "computed": false, "key": { "type": "Identifier", "start": 2566, "end": 2572, "name": "render" }, "kind": "method", "value": { "type": "FunctionExpression", "start": 2572, "end": 3930, "id": null, "expression": false, "generator": false, "async": false, "params": [], "body": { "type": "BlockStatement", "start": 2575, "end": 3930, "body": [{ "type": "VariableDeclaration", "start": 2589, "end": 2631, "declarations": [{ "type": "VariableDeclarator", "start": 2593, "end": 2631, "id": { "type": "Identifier", "start": 2593, "end": 2600, "name": "tabsArr" }, "init": { "type": "CallExpression", "start": 2603, "end": 2631, "callee": { "type": "MemberExpression", "start": 2603, "end": 2614, "object": { "type": "Identifier", "start": 2603, "end": 2609, "name": "Object" }, "property": { "type": "Identifier", "start": 2610, "end": 2614, "name": "keys" }, "computed": false, "optional": false }, "arguments": [{ "type": "MemberExpression", "start": 2615, "end": 2630, "object": { "type": "MemberExpression", "start": 2615, "end": 2625, "object": { "type": "ThisExpression", "start": 2615, "end": 2619 }, "property": { "type": "Identifier", "start": 2620, "end": 2625, "name": "state" }, "computed": false, "optional": false }, "property": { "type": "Identifier", "start": 2626, "end": 2630, "name": "menu" }, "computed": false, "optional": false }], "optional": false } }], "kind": "let" }, { "type": "ReturnStatement", "start": 2644, "end": 3920, "argument": { "type": "JSXElement", "start": 2669, "end": 3906, "openingElement": { "type": "JSXOpeningElement", "start": 2669, "end": 2741, "attributes": [{ "type": "JSXAttribute", "start": 2674, "end": 2740, "name": { "type": "JSXIdentifier", "start": 2674, "end": 2679, "name": "style" }, "value": { "type": "JSXExpressionContainer", "start": 2680, "end": 2740, "expression": { "type": "ObjectExpression", "start": 2681, "end": 2739, "properties": [{ "type": "Property", "start": 2683, "end": 2706, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 2683, "end": 2698, "name": "backgroundColor" }, "value": { "type": "Literal", "start": 2700, "end": 2706, "value": "#eee", "raw": "'#eee'" }, "kind": "init" }, { "type": "Property", "start": 2708, "end": 2721, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 2708, "end": 2713, "name": "width" }, "value": { "type": "Literal", "start": 2715, "end": 2721, "value": "100%", "raw": "'100%'" }, "kind": "init" }, { "type": "Property", "start": 2723, "end": 2737, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 2723, "end": 2729, "name": "height" }, "value": { "type": "Literal", "start": 2731, "end": 2737, "value": "100%", "raw": "'100%'" }, "kind": "init" }] } } }], "name": { "type": "JSXIdentifier", "start": 2670, "end": 2673, "name": "box" }, "selfClosing": false }, "closingElement": { "type": "JSXClosingElement", "start": 3900, "end": 3906, "name": { "type": "JSXIdentifier", "start": 3902, "end": 3905, "name": "box" } }, "children": [{ "type": "JSXText", "start": 2741, "end": 2762, "value": "\n                    ", "raw": "\n                    " }, { "type": "JSXElement", "start": 2762, "end": 3182, "openingElement": { "type": "JSXOpeningElement", "start": 2762, "end": 2940, "attributes": [{ "type": "JSXAttribute", "start": 2768, "end": 2805, "name": { "type": "JSXIdentifier", "start": 2768, "end": 2773, "name": "style" }, "value": { "type": "JSXExpressionContainer", "start": 2774, "end": 2805, "expression": { "type": "ObjectExpression", "start": 2775, "end": 2804, "properties": [{ "type": "Property", "start": 2777, "end": 2790, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 2777, "end": 2782, "name": "width" }, "value": { "type": "Literal", "start": 2784, "end": 2790, "value": "100%", "raw": "'100%'" }, "kind": "init" }, { "type": "Property", "start": 2792, "end": 2802, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 2792, "end": 2798, "name": "height" }, "value": { "type": "Literal", "start": 2800, "end": 2802, "value": 56, "raw": "56" }, "kind": "init" }] } } }, { "type": "JSXAttribute", "start": 2806, "end": 2939, "name": { "type": "JSXIdentifier", "start": 2806, "end": 2814, "name": "onChange" }, "value": { "type": "JSXExpressionContainer", "start": 2815, "end": 2939, "expression": { "type": "ArrowFunctionExpression", "start": 2816, "end": 2938, "id": null, "expression": false, "generator": false, "async": false, "params": [{ "type": "Identifier", "start": 2816, "end": 2817, "name": "e" }], "body": { "type": "BlockStatement", "start": 2821, "end": 2938, "body": [{ "type": "ExpressionStatement", "start": 2847, "end": 2916, "expression": { "type": "CallExpression", "start": 2847, "end": 2916, "callee": { "type": "MemberExpression", "start": 2847, "end": 2860, "object": { "type": "ThisExpression", "start": 2847, "end": 2851 }, "property": { "type": "Identifier", "start": 2852, "end": 2860, "name": "setState" }, "computed": false, "optional": false }, "arguments": [{ "type": "ObjectExpression", "start": 2861, "end": 2915, "properties": [{ "type": "Property", "start": 2863, "end": 2913, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 2863, "end": 2879, "name": "selectedCategory" }, "value": { "type": "MemberExpression", "start": 2881, "end": 2913, "object": { "type": "Identifier", "start": 2881, "end": 2888, "name": "tabsArr" }, "property": { "type": "MemberExpression", "start": 2889, "end": 2912, "object": { "type": "MemberExpression", "start": 2889, "end": 2897, "object": { "type": "Identifier", "start": 2889, "end": 2890, "name": "e" }, "property": { "type": "Identifier", "start": 2891, "end": 2897, "name": "target" }, "computed": false, "optional": false }, "property": { "type": "Identifier", "start": 2898, "end": 2912, "name": "activeTabIndex" }, "computed": false, "optional": false }, "computed": true, "optional": false }, "kind": "init" }] }], "optional": false } }] } } } }], "name": { "type": "JSXIdentifier", "start": 2763, "end": 2767, "name": "tabs" }, "selfClosing": false }, "closingElement": { "type": "JSXClosingElement", "start": 3175, "end": 3182, "name": { "type": "JSXIdentifier", "start": 3177, "end": 3181, "name": "tabs" } }, "children": [{ "type": "JSXText", "start": 2940, "end": 2965, "value": "\n                        ", "raw": "\n                        " }, { "type": "JSXExpressionContainer", "start": 2965, "end": 3154, "expression": { "type": "CallExpression", "start": 2995, "end": 3128, "callee": { "type": "MemberExpression", "start": 2995, "end": 3006, "object": { "type": "Identifier", "start": 2995, "end": 3002, "name": "tabsArr" }, "property": { "type": "Identifier", "start": 3003, "end": 3006, "name": "map" }, "computed": false, "optional": false }, "arguments": [{ "type": "ArrowFunctionExpression", "start": 3007, "end": 3127, "id": null, "expression": false, "generator": false, "async": false, "params": [{ "type": "Identifier", "start": 3007, "end": 3010, "name": "cat" }], "body": { "type": "BlockStatement", "start": 3014, "end": 3127, "body": [{ "type": "ReturnStatement", "start": 3048, "end": 3097, "argument": { "type": "JSXElement", "start": 3055, "end": 3097, "openingElement": { "type": "JSXOpeningElement", "start": 3055, "end": 3078, "attributes": [{ "type": "JSXAttribute", "start": 3068, "end": 3077, "name": { "type": "JSXIdentifier", "start": 3068, "end": 3071, "name": "key" }, "value": { "type": "JSXExpressionContainer", "start": 3072, "end": 3077, "expression": { "type": "Identifier", "start": 3073, "end": 3076, "name": "cat" } } }], "name": { "type": "JSXIdentifier", "start": 3056, "end": 3067, "name": "primary-tab" }, "selfClosing": false }, "closingElement": { "type": "JSXClosingElement", "start": 3083, "end": 3097, "name": { "type": "JSXIdentifier", "start": 3085, "end": 3096, "name": "primary-tab" } }, "children": [{ "type": "JSXExpressionContainer", "start": 3078, "end": 3083, "expression": { "type": "Identifier", "start": 3079, "end": 3082, "name": "cat" } }] } }] } }], "optional": false } }, { "type": "JSXText", "start": 3154, "end": 3175, "value": "\n                    ", "raw": "\n                    " }] }, { "type": "JSXText", "start": 3182, "end": 3208, "value": "\n    \n                    ", "raw": "\n    \n                    " }, { "type": "JSXElement", "start": 3208, "end": 3883, "openingElement": { "type": "JSXOpeningElement", "start": 3208, "end": 3350, "attributes": [{ "type": "JSXAttribute", "start": 3213, "end": 3349, "name": { "type": "JSXIdentifier", "start": 3213, "end": 3218, "name": "style" }, "value": { "type": "JSXExpressionContainer", "start": 3219, "end": 3349, "expression": { "type": "ObjectExpression", "start": 3220, "end": 3348, "properties": [{ "type": "Property", "start": 3222, "end": 3235, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 3222, "end": 3227, "name": "width" }, "value": { "type": "Literal", "start": 3229, "end": 3235, "value": "100%", "raw": "'100%'" }, "kind": "init" }, { "type": "Property", "start": 3237, "end": 3264, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 3237, "end": 3243, "name": "height" }, "value": { "type": "Literal", "start": 3245, "end": 3264, "value": "calc(100% - 56px)", "raw": "'calc(100% - 56px)'" }, "kind": "init" }, { "type": "Property", "start": 3266, "end": 3281, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 3266, "end": 3273, "name": "display" }, "value": { "type": "Literal", "start": 3275, "end": 3281, "value": "flex", "raw": "'flex'" }, "kind": "init" }, { "type": "Property", "start": 3283, "end": 3299, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 3283, "end": 3291, "name": "flexWrap" }, "value": { "type": "Literal", "start": 3293, "end": 3299, "value": "wrap", "raw": "'wrap'" }, "kind": "init" }, { "type": "Property", "start": 3301, "end": 3318, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 3301, "end": 3310, "name": "overflowY" }, "value": { "type": "Literal", "start": 3312, "end": 3318, "value": "auto", "raw": "'auto'" }, "kind": "init" }, { "type": "Property", "start": 3320, "end": 3346, "method": false, "shorthand": false, "computed": false, "key": { "type": "Identifier", "start": 3320, "end": 3332, "name": "alignContent" }, "value": { "type": "Literal", "start": 3334, "end": 3346, "value": "flex-start", "raw": "'flex-start'" }, "kind": "init" }] } } }], "name": { "type": "JSXIdentifier", "start": 3209, "end": 3212, "name": "box" }, "selfClosing": false }, "closingElement": { "type": "JSXClosingElement", "start": 3877, "end": 3883, "name": { "type": "JSXIdentifier", "start": 3879, "end": 3882, "name": "box" } }, "children": [{ "type": "JSXText", "start": 3350, "end": 3375, "value": "\n                        ", "raw": "\n                        " }, { "type": "JSXExpressionContainer", "start": 3375, "end": 3856, "expression": { "type": "CallExpression", "start": 3405, "end": 3830, "callee": { "type": "MemberExpression", "start": 3405, "end": 3453, "object": { "type": "MemberExpression", "start": 3405, "end": 3449, "object": { "type": "MemberExpression", "start": 3405, "end": 3420, "object": { "type": "MemberExpression", "start": 3405, "end": 3415, "object": { "type": "ThisExpression", "start": 3405, "end": 3409 }, "property": { "type": "Identifier", "start": 3410, "end": 3415, "name": "state" }, "computed": false, "optional": false }, "property": { "type": "Identifier", "start": 3416, "end": 3420, "name": "menu" }, "computed": false, "optional": false }, "property": { "type": "MemberExpression", "start": 3421, "end": 3448, "object": { "type": "MemberExpression", "start": 3421, "end": 3431, "object": { "type": "ThisExpression", "start": 3421, "end": 3425 }, "property": { "type": "Identifier", "start": 3426, "end": 3431, "name": "state" }, "computed": false, "optional": false }, "property": { "type": "Identifier", "start": 3432, "end": 3448, "name": "selectedCategory" }, "computed": false, "optional": false }, "computed": true, "optional": false }, "property": { "type": "Identifier", "start": 3450, "end": 3453, "name": "map" }, "computed": false, "optional": false }, "arguments": [{ "type": "ArrowFunctionExpression", "start": 3454, "end": 3829, "id": null, "expression": false, "generator": false, "async": false, "params": [{ "type": "Identifier", "start": 3455, "end": 3459, "name": "food" }, { "type": "Identifier", "start": 3461, "end": 3466, "name": "index" }], "body": { "type": "BlockStatement", "start": 3471, "end": 3829, "body": [{ "type": "ReturnStatement", "start": 3505, "end": 3799, "argument": { "type": "JSXElement", "start": 3512, "end": 3799, "openingElement": { "type": "JSXOpeningElement", "start": 3512, "end": 3799, "attributes": [{ "type": "JSXAttribute", "start": 3518, "end": 3531, "name": { "type": "JSXIdentifier", "start": 3518, "end": 3521, "name": "key" }, "value": { "type": "JSXExpressionContainer", "start": 3522, "end": 3531, "expression": { "type": "MemberExpression", "start": 3523, "end": 3530, "object": { "type": "Identifier", "start": 3523, "end": 3527, "name": "food" }, "property": { "type": "Identifier", "start": 3528, "end": 3530, "name": "id" }, "computed": false, "optional": false } } }, { "type": "JSXAttribute", "start": 3532, "end": 3543, "name": { "type": "JSXIdentifier", "start": 3532, "end": 3536, "name": "food" }, "value": { "type": "JSXExpressionContainer", "start": 3537, "end": 3543, "expression": { "type": "Identifier", "start": 3538, "end": 3542, "name": "food" } } }, { "type": "JSXAttribute", "start": 3544, "end": 3796, "name": { "type": "JSXIdentifier", "start": 3544, "end": 3554, "name": "updateMenu" }, "value": { "type": "JSXExpressionContainer", "start": 3555, "end": 3796, "expression": { "type": "ArrowFunctionExpression", "start": 3556, "end": 3795, "id": null, "expression": false, "generator": false, "async": false, "params": [{ "type": "Identifier", "start": 3557, "end": 3562, "name": "count" }], "body": { "type": "BlockStatement", "start": 3567, "end": 3795, "body": [{ "type": "ExpressionStatement", "start": 3605, "end": 3670, "expression": { "type": "AssignmentExpression", "start": 3605, "end": 3670, "operator": "=", "left": { "type": "MemberExpression", "start": 3605, "end": 3662, "object": { "type": "MemberExpression", "start": 3605, "end": 3656, "object": { "type": "MemberExpression", "start": 3605, "end": 3649, "object": { "type": "MemberExpression", "start": 3605, "end": 3620, "object": { "type": "MemberExpression", "start": 3605, "end": 3615, "object": { "type": "ThisExpression", "start": 3605, "end": 3609 }, "property": { "type": "Identifier", "start": 3610, "end": 3615, "name": "state" }, "computed": false, "optional": false }, "property": { "type": "Identifier", "start": 3616, "end": 3620, "name": "menu" }, "computed": false, "optional": false }, "property": { "type": "MemberExpression", "start": 3621, "end": 3648, "object": { "type": "MemberExpression", "start": 3621, "end": 3631, "object": { "type": "ThisExpression", "start": 3621, "end": 3625 }, "property": { "type": "Identifier", "start": 3626, "end": 3631, "name": "state" }, "computed": false, "optional": false }, "property": { "type": "Identifier", "start": 3632, "end": 3648, "name": "selectedCategory" }, "computed": false, "optional": false }, "computed": true, "optional": false }, "property": { "type": "Identifier", "start": 3650, "end": 3655, "name": "index" }, "computed": true, "optional": false }, "property": { "type": "Identifier", "start": 3657, "end": 3662, "name": "count" }, "computed": false, "optional": false }, "right": { "type": "Identifier", "start": 3665, "end": 3670, "name": "count" } } }, { "type": "ExpressionStatement", "start": 3707, "end": 3761, "expression": { "type": "CallExpression", "start": 3707, "end": 3761, "callee": { "type": "MemberExpression", "start": 3707, "end": 3718, "object": { "type": "Identifier", "start": 3707, "end": 3714, "name": "console" }, "property": { "type": "Identifier", "start": 3715, "end": 3718, "name": "log" }, "computed": false, "optional": false }, "arguments": [{ "type": "MemberExpression", "start": 3719, "end": 3746, "object": { "type": "MemberExpression", "start": 3719, "end": 3729, "object": { "type": "ThisExpression", "start": 3719, "end": 3723 }, "property": { "type": "Identifier", "start": 3724, "end": 3729, "name": "state" }, "computed": false, "optional": false }, "property": { "type": "Identifier", "start": 3730, "end": 3746, "name": "selectedCategory" }, "computed": false, "optional": false }, { "type": "Identifier", "start": 3748, "end": 3753, "name": "index" }, { "type": "Identifier", "start": 3755, "end": 3760, "name": "count" }], "optional": false } }] } } } }], "name": { "type": "JSXIdentifier", "start": 3513, "end": 3517, "name": "Food" }, "selfClosing": true }, "closingElement": null, "children": [] } }] } }], "optional": false } }, { "type": "JSXText", "start": 3856, "end": 3877, "value": "\n                    ", "raw": "\n                    " }] }, { "type": "JSXText", "start": 3883, "end": 3900, "value": "\n                ", "raw": "\n                " }] } }] } } }] } }], "sourceType": "module" }
    )

    let uiRoot

    const crawl = (newEl, oldEl) => {
        if (newEl._props) {
            for (let propKey in newEl._props) {
                if (newEl._props[propKey]._value?.__state__ === 'updated' || newEl._props[propKey]._value?.__state__ === 'updated') {
                    let newValue = newEl._props[propKey]._value.__value__
                    console.log(newValue)
                    oldEl._props[propKey] = {
                        _value: newValue,
                        _defaultValue: oldEl._props[propKey]._defaultValue,
                        _type: oldEl._props[propKey]._type
                    }
                    uiDriver.updateProp(oldEl, propKey, newValue)
                } else if (newEl._props[propKey]._value?.__state__ === 'deleted') {
                    delete oldEl._props[propKey]
                }
            }
        }
        if (newEl._styles) {
            for (let key in newEl._styles) {
                oldEl._styles[key] = newEl._styles[key].__value__
                let cssValue = Utils.compiler.buildValue(key, newEl._styles[key].__value__)
                uiDriver.updateStyle(oldEl, key, cssValue)
            }
        }
        if (newEl._children) {
            if (newEl._children.__state__ === 'created') {

                oldEl._children = newEl._children.__value__
            } else {
                let modifiedChilrenArray = {}
                for (let i = 0; i < oldEl._children.length; i++) {
                    modifiedChilrenArray[i + ''] = oldEl._children[i]
                }
                for (let arrayIndex in newEl._children) {
                    let child = newEl._children[arrayIndex]
                    if (child.__state__ === 'created') {
                        modifiedChilrenArray[Number(arrayIndex)] = child.__value__
                        scan(child.__value__)
                        uiDriver.createChild(child.__value__, oldEl._key)
                    } else if (child.__state__ === 'updated') {
                        modifiedChilrenArray[Number(arrayIndex)] = child.__value__
                        scan(child.__value__)
                        console.log('replacing.......', oldEl._children[Number(arrayIndex)], child.__value__)
                        uiDriver.replaceChild(oldEl, child.__value__)
                    } else if (child.__state__ !== 'deleted') {
                        crawl(child, oldEl._children[Number(arrayIndex)])
                    }
                }
                Object.keys(newEl._children).map(k => Number(k)).sort().reverse().forEach(k => {
                    let child = newEl._children[k + '']
                    if (child.__state__ === 'deleted') {
                        uiDriver.deleteChild(modifiedChilrenArray[k]._key)
                        delete modifiedChilrenArray[k]
                    }
                });
                oldEl._children = Object.keys(modifiedChilrenArray).map(k => modifiedChilrenArray[Number(k)])
            }
        }
    }

    let references = {}

    const scan = (node) => {
        if (node._key) {
            references[node._key] = node
        }
        node?._children?.forEach(child => {
            scan(child)
        })
    }

    const update = (oldKey, newKey, u) => {
        if (!references[oldKey]) {
            references[oldKey] = uiRoot
        }
        console.log(references)
        references[newKey] = references[oldKey]
        delete references[oldKey]
        console.log('updating....', oldKey, newKey)
        let oldEl = references[newKey]
        if (u.__state__ === 'updated') {
            scan(u.__value__)
            uiDriver.replaceChild(oldEl, u.__value__)
        } else {
            crawl(u, oldEl)
        }
    }

    applet.run('Button', (mod) => new Native(mod), update).then((runnable) => {
        console.log(Utils.json.prettify(runnable.root))
        uiRoot = runnable.root
        scan(uiRoot)
        let ui = uiDriver.build(runnable.root)
        root.appendChild(ui)
        runnable.mount()
    })

</script>

</html>